import{d as j,e as v,u as y,r as a,j as e,B as c}from"./index--0iqMln5.js";import{I as m}from"./input-BHxrMRyP.js";import{C as b,a as w,b as C,c as N,d as L}from"./card-B65oY0MX.js";import{L as u}from"./label-DbRtzoGq.js";import{L as S}from"./loader-circle-lAhCrl4X.js";function P(){const[,s]=j(),{login:h,isAuthenticated:i}=v(),{toast:r}=y(),[n,o]=a.useState(!1),[l,p]=a.useState(""),[d,x]=a.useState("");a.useEffect(()=>{i&&s("/dashboard")},[i,s]);const f=async t=>{t.preventDefault(),o(!0);try{await h(l,d),r({title:"Welcome back!",description:"You've successfully logged in."}),s("/dashboard")}catch(g){r({title:"Login failed",description:g.message||"Invalid email or password",variant:"destructive"})}finally{o(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 px-4",children:e.jsxs(b,{className:"w-full max-w-md",children:[e.jsxs(w,{className:"space-y-2",children:[e.jsx(C,{className:"font-montserrat text-3xl",children:"Cast Member Login"}),e.jsx(N,{children:"Sign in to access your Teen Summit 2.0 portal"})]}),e.jsxs(L,{children:[e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"email",children:"Email"}),e.jsx(m,{id:"email",type:"email",placeholder:"your@email.com",value:l,onChange:t=>p(t.target.value),required:!0,"data-testid":"input-email"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"password",children:"Password"}),e.jsx(m,{id:"password",type:"password",value:d,onChange:t=>x(t.target.value),required:!0,"data-testid":"input-password"})]}),e.jsxs(c,{type:"submit",className:"w-full",disabled:n,"data-testid":"button-login",children:[n&&e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),"Sign In"]})]}),e.jsx("div",{className:"mt-6 text-center text-sm",children:e.jsxs("p",{className:"text-muted-foreground",children:["Don't have an account?"," ",e.jsx("button",{type:"button",className:"font-semibold text-primary hover:underline",onClick:()=>s("/register"),"data-testid":"link-register",children:"Register here"})]})}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx(c,{variant:"ghost",onClick:()=>s("/"),"data-testid":"link-home",children:"â† Back to Home"})})]})]})})}export{P as default};
