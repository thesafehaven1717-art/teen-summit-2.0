const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BL_rrXJa.js","assets/index--0iqMln5.js","assets/index-D6QTqoxD.css","assets/card-B65oY0MX.js","assets/badge-hkkynMrF.js","assets/tabs-Bx3VpB_R.js","assets/index-DJwLstOT.js","assets/index-CNVxJXxz.js","assets/avatar-Hsi_RK8V.js","assets/form-3qQN-qb_.js","assets/label-DbRtzoGq.js","assets/input-BHxrMRyP.js","assets/chevron-down-CJmsOpq0.js","assets/check-CO3pM8TR.js","assets/textarea-vY3jgLw9.js","assets/trending-up-DJTI7Ca7.js","assets/calendar-DoBVFTCc.js","assets/user-B1Cx1ISO.js","assets/sparkles-BNFhMtNu.js","assets/target-CeiPE47H.js","assets/lightbulb-CIlKO3XV.js","assets/youtube-CiMx9fO3.js","assets/music-CVIctBfn.js","assets/twitter-wczTJTXB.js","assets/linkedin-JYjvJkRx.js","assets/download-rw0jI8MC.js"])))=>i.map(i=>d[i]);
var gn=Object.defineProperty;var wr=i=>{throw TypeError(i)};var xn=(i,e,t)=>e in i?gn(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var U=(i,e,t)=>xn(i,typeof e!="symbol"?e+"":e,t),Ms=(i,e,t)=>e.has(i)||wr("Cannot "+t);var d=(i,e,t)=>(Ms(i,e,"read from private field"),t?t.call(i):e.get(i)),v=(i,e,t)=>e.has(i)?wr("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,t),C=(i,e,t,r)=>(Ms(i,e,"write to private field"),r?r.call(i,t):e.set(i,t),t),w=(i,e,t)=>(Ms(i,e,"access private method"),t);import{c as ks,r as f,f as yn,g as vn,h as Wr,i as Ie,j as s,A as wn,P as we,k as oe,l as Ge,m as Gr,n as bn,o as jn,R as Sn,p as Nn,D as Tn,C as Cn,q as fr,s as En,V as Pn,t as Fn,v as br,w as Un,x as Rn,y as kn,z as Ke,E as Ot,G as us,_ as An,B as xe,e as $n,d as In,u as On,H as ps,a as Lt,I as Mn,F as hs,J as _s,K as _n,M as Ln,N as zn,O as Bn,Q as qn,b as xt,T as He}from"./index--0iqMln5.js";import{C as G,a as te,b as se,c as ne,d as K}from"./card-B65oY0MX.js";import{B as jr}from"./badge-hkkynMrF.js";import{T as Dn,a as Hn,b as et,c as tt}from"./tabs-Bx3VpB_R.js";import{A as Vn,a as Wn,b as Gn,L as Kn}from"./avatar-Hsi_RK8V.js";import{u as ms,F as fs,a as X,b as Q,e as Y,c as J,d as Z,z as k,t as gs}from"./form-3qQN-qb_.js";import{I as ge}from"./input-BHxrMRyP.js";import{u as Yn}from"./index-CNVxJXxz.js";import{C as Kr}from"./chevron-down-CJmsOpq0.js";import{C as Xn}from"./check-CO3pM8TR.js";import{T as xs}from"./textarea-vY3jgLw9.js";import{T as ys}from"./trending-up-DJTI7Ca7.js";import{C as Ls}from"./calendar-DoBVFTCc.js";import{U as zs}from"./user-B1Cx1ISO.js";import{S as Sr}from"./sparkles-BNFhMtNu.js";import{T as Nr}from"./target-CeiPE47H.js";import{L as Qn}from"./lightbulb-CIlKO3XV.js";import{I as Yr,Y as Xr}from"./youtube-CiMx9fO3.js";import{M as Qr}from"./music-CVIctBfn.js";import{T as Jr}from"./twitter-wczTJTXB.js";import{L as Zr}from"./linkedin-JYjvJkRx.js";import{D as Jn}from"./download-rw0jI8MC.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=ks("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=ks("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=ks("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=ks("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);function Tr(i,[e,t]){return Math.min(t,Math.max(e,i))}function to(i){const e=f.useRef({value:i,previous:i});return f.useMemo(()=>(e.current.value!==i&&(e.current.previous=e.current.value,e.current.value=i),e.current.previous),[i])}var so=[" ","Enter","ArrowUp","ArrowDown"],ro=[" ","Enter"],ds="Select",[As,$s,io]=yn(ds),[Mt,Fd]=vn(ds,[io,Wr]),Is=Wr(),[no,Xe]=Mt(ds),[oo,ao]=Mt(ds),ei=i=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:n,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:h,name:u,autoComplete:m,disabled:x,required:y,form:j}=i,g=Is(e),[b,P]=f.useState(null),[S,N]=f.useState(null),[I,B]=f.useState(!1),R=Yn(h),[E=!1,A]=br({prop:r,defaultProp:n,onChange:a}),[H,pe]=br({prop:o,defaultProp:l,onChange:c}),O=f.useRef(null),me=b?j||!!b.closest("form"):!0,[V,ae]=f.useState(new Set),he=Array.from(V).map(D=>D.props.value).join(";");return s.jsx(Un,{...g,children:s.jsxs(no,{required:y,scope:e,trigger:b,onTriggerChange:P,valueNode:S,onValueNodeChange:N,valueNodeHasChildren:I,onValueNodeHasChildrenChange:B,contentId:fr(),value:H,onValueChange:pe,open:E,onOpenChange:A,dir:R,triggerPointerDownPosRef:O,disabled:x,children:[s.jsx(As.Provider,{scope:e,children:s.jsx(oo,{scope:i.__scopeSelect,onNativeOptionAdd:f.useCallback(D=>{ae(re=>new Set(re).add(D))},[]),onNativeOptionRemove:f.useCallback(D=>{ae(re=>{const M=new Set(re);return M.delete(D),M})},[]),children:t})}),me?s.jsxs(Ti,{"aria-hidden":!0,required:y,tabIndex:-1,name:u,autoComplete:m,value:H,onChange:D=>pe(D.target.value),disabled:x,form:j,children:[H===void 0?s.jsx("option",{value:""}):null,Array.from(V)]},he):null]})})};ei.displayName=ds;var ti="SelectTrigger",si=f.forwardRef((i,e)=>{const{__scopeSelect:t,disabled:r=!1,...n}=i,a=Is(t),o=Xe(ti,t),l=o.disabled||r,c=Ie(e,o.onTriggerChange),h=$s(t),u=f.useRef("touch"),[m,x,y]=Ci(g=>{const b=h().filter(N=>!N.disabled),P=b.find(N=>N.value===o.value),S=Ei(b,g,P);S!==void 0&&o.onValueChange(S.value)}),j=g=>{l||(o.onOpenChange(!0),y()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(wn,{asChild:!0,...a,children:s.jsx(we.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Ni(o.value)?"":void 0,...n,ref:c,onClick:oe(n.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&j(g)}),onPointerDown:oe(n.onPointerDown,g=>{u.current=g.pointerType;const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(j(g),g.preventDefault())}),onKeyDown:oe(n.onKeyDown,g=>{const b=m.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&x(g.key),!(b&&g.key===" ")&&so.includes(g.key)&&(j(),g.preventDefault())})})})});si.displayName=ti;var ri="SelectValue",ii=f.forwardRef((i,e)=>{const{__scopeSelect:t,className:r,style:n,children:a,placeholder:o="",...l}=i,c=Xe(ri,t),{onValueNodeHasChildrenChange:h}=c,u=a!==void 0,m=Ie(e,c.onValueNodeChange);return Ge(()=>{h(u)},[h,u]),s.jsx(we.span,{...l,ref:m,style:{pointerEvents:"none"},children:Ni(c.value)?s.jsx(s.Fragment,{children:o}):a})});ii.displayName=ri;var lo="SelectIcon",ni=f.forwardRef((i,e)=>{const{__scopeSelect:t,children:r,...n}=i;return s.jsx(we.span,{"aria-hidden":!0,...n,ref:e,children:r||"â–¼"})});ni.displayName=lo;var co="SelectPortal",oi=i=>s.jsx(Rn,{asChild:!0,...i});oi.displayName=co;var ut="SelectContent",ai=f.forwardRef((i,e)=>{const t=Xe(ut,i.__scopeSelect),[r,n]=f.useState();if(Ge(()=>{n(new DocumentFragment)},[]),!t.open){const a=r;return a?Gr.createPortal(s.jsx(li,{scope:i.__scopeSelect,children:s.jsx(As.Slot,{scope:i.__scopeSelect,children:s.jsx("div",{children:i.children})})}),a):null}return s.jsx(ci,{...i,ref:e})});ai.displayName=ut;var je=10,[li,Qe]=Mt(ut),uo="SelectContentImpl",po=kn("SelectContent.RemoveScroll"),ci=f.forwardRef((i,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:h,alignOffset:u,arrowPadding:m,collisionBoundary:x,collisionPadding:y,sticky:j,hideWhenDetached:g,avoidCollisions:b,...P}=i,S=Xe(ut,t),[N,I]=f.useState(null),[B,R]=f.useState(null),E=Ie(e,F=>I(F)),[A,H]=f.useState(null),[pe,O]=f.useState(null),me=$s(t),[V,ae]=f.useState(!1),he=f.useRef(!1);f.useEffect(()=>{if(N)return bn(N)},[N]),jn();const D=f.useCallback(F=>{const[q,...W]=me().map(z=>z.ref.current),[_]=W.slice(-1),L=document.activeElement;for(const z of F)if(z===L||(z==null||z.scrollIntoView({block:"nearest"}),z===q&&B&&(B.scrollTop=0),z===_&&B&&(B.scrollTop=B.scrollHeight),z==null||z.focus(),document.activeElement!==L))return},[me,B]),re=f.useCallback(()=>D([A,N]),[D,A,N]);f.useEffect(()=>{V&&re()},[V,re]);const{onOpenChange:M,triggerPointerDownPosRef:ie}=S;f.useEffect(()=>{if(N){let F={x:0,y:0};const q=_=>{var L,z;F={x:Math.abs(Math.round(_.pageX)-(((L=ie.current)==null?void 0:L.x)??0)),y:Math.abs(Math.round(_.pageY)-(((z=ie.current)==null?void 0:z.y)??0))}},W=_=>{F.x<=10&&F.y<=10?_.preventDefault():N.contains(_.target)||M(!1),document.removeEventListener("pointermove",q),ie.current=null};return ie.current!==null&&(document.addEventListener("pointermove",q),document.addEventListener("pointerup",W,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",q),document.removeEventListener("pointerup",W,{capture:!0})}}},[N,M,ie]),f.useEffect(()=>{const F=()=>M(!1);return window.addEventListener("blur",F),window.addEventListener("resize",F),()=>{window.removeEventListener("blur",F),window.removeEventListener("resize",F)}},[M]);const[ht,mt]=Ci(F=>{const q=me().filter(L=>!L.disabled),W=q.find(L=>L.ref.current===document.activeElement),_=Ei(q,F,W);_&&setTimeout(()=>_.ref.current.focus())}),Je=f.useCallback((F,q,W)=>{const _=!he.current&&!W;(S.value!==void 0&&S.value===q||_)&&(H(F),_&&(he.current=!0))},[S.value]),_t=f.useCallback(()=>N==null?void 0:N.focus(),[N]),fe=f.useCallback((F,q,W)=>{const _=!he.current&&!W;(S.value!==void 0&&S.value===q||_)&&O(F)},[S.value]),De=r==="popper"?Vs:di,Ze=De===Vs?{side:l,sideOffset:c,align:h,alignOffset:u,arrowPadding:m,collisionBoundary:x,collisionPadding:y,sticky:j,hideWhenDetached:g,avoidCollisions:b}:{};return s.jsx(li,{scope:t,content:N,viewport:B,onViewportChange:R,itemRefCallback:Je,selectedItem:A,onItemLeave:_t,itemTextRefCallback:fe,focusSelectedItem:re,selectedItemText:pe,position:r,isPositioned:V,searchRef:ht,children:s.jsx(Sn,{as:po,allowPinchZoom:!0,children:s.jsx(Nn,{asChild:!0,trapped:S.open,onMountAutoFocus:F=>{F.preventDefault()},onUnmountAutoFocus:oe(n,F=>{var q;(q=S.trigger)==null||q.focus({preventScroll:!0}),F.preventDefault()}),children:s.jsx(Tn,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:F=>F.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:s.jsx(De,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:F=>F.preventDefault(),...P,...Ze,onPlaced:()=>ae(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...P.style},onKeyDown:oe(P.onKeyDown,F=>{const q=F.ctrlKey||F.altKey||F.metaKey;if(F.key==="Tab"&&F.preventDefault(),!q&&F.key.length===1&&mt(F.key),["ArrowUp","ArrowDown","Home","End"].includes(F.key)){let _=me().filter(L=>!L.disabled).map(L=>L.ref.current);if(["ArrowUp","End"].includes(F.key)&&(_=_.slice().reverse()),["ArrowUp","ArrowDown"].includes(F.key)){const L=F.target,z=_.indexOf(L);_=_.slice(z+1)}setTimeout(()=>D(_)),F.preventDefault()}})})})})})})});ci.displayName=uo;var ho="SelectItemAlignedPosition",di=f.forwardRef((i,e)=>{const{__scopeSelect:t,onPlaced:r,...n}=i,a=Xe(ut,t),o=Qe(ut,t),[l,c]=f.useState(null),[h,u]=f.useState(null),m=Ie(e,E=>u(E)),x=$s(t),y=f.useRef(!1),j=f.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:P,focusSelectedItem:S}=o,N=f.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&h&&g&&b&&P){const E=a.trigger.getBoundingClientRect(),A=h.getBoundingClientRect(),H=a.valueNode.getBoundingClientRect(),pe=P.getBoundingClientRect();if(a.dir!=="rtl"){const L=pe.left-A.left,z=H.left-L,Oe=E.left-z,Me=E.width+Oe,ft=Math.max(Me,A.width),gt=window.innerWidth-je,p=Tr(z,[je,Math.max(je,gt-ft)]);l.style.minWidth=Me+"px",l.style.left=p+"px"}else{const L=A.right-pe.right,z=window.innerWidth-H.right-L,Oe=window.innerWidth-E.right-z,Me=E.width+Oe,ft=Math.max(Me,A.width),gt=window.innerWidth-je,p=Tr(z,[je,Math.max(je,gt-ft)]);l.style.minWidth=Me+"px",l.style.right=p+"px"}const O=x(),me=window.innerHeight-je*2,V=g.scrollHeight,ae=window.getComputedStyle(h),he=parseInt(ae.borderTopWidth,10),D=parseInt(ae.paddingTop,10),re=parseInt(ae.borderBottomWidth,10),M=parseInt(ae.paddingBottom,10),ie=he+D+V+M+re,ht=Math.min(b.offsetHeight*5,ie),mt=window.getComputedStyle(g),Je=parseInt(mt.paddingTop,10),_t=parseInt(mt.paddingBottom,10),fe=E.top+E.height/2-je,De=me-fe,Ze=b.offsetHeight/2,F=b.offsetTop+Ze,q=he+D+F,W=ie-q;if(q<=fe){const L=O.length>0&&b===O[O.length-1].ref.current;l.style.bottom="0px";const z=h.clientHeight-g.offsetTop-g.offsetHeight,Oe=Math.max(De,Ze+(L?_t:0)+z+re),Me=q+Oe;l.style.height=Me+"px"}else{const L=O.length>0&&b===O[0].ref.current;l.style.top="0px";const Oe=Math.max(fe,he+g.offsetTop+(L?Je:0)+Ze)+W;l.style.height=Oe+"px",g.scrollTop=q-fe+g.offsetTop}l.style.margin=`${je}px 0`,l.style.minHeight=ht+"px",l.style.maxHeight=me+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[x,a.trigger,a.valueNode,l,h,g,b,P,a.dir,r]);Ge(()=>N(),[N]);const[I,B]=f.useState();Ge(()=>{h&&B(window.getComputedStyle(h).zIndex)},[h]);const R=f.useCallback(E=>{E&&j.current===!0&&(N(),S==null||S(),j.current=!1)},[N,S]);return s.jsx(fo,{scope:t,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:R,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:s.jsx(we.div,{...n,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});di.displayName=ho;var mo="SelectPopperPosition",Vs=f.forwardRef((i,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:n=je,...a}=i,o=Is(t);return s.jsx(Cn,{...o,...a,ref:e,align:r,collisionPadding:n,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Vs.displayName=mo;var[fo,gr]=Mt(ut,{}),Ws="SelectViewport",ui=f.forwardRef((i,e)=>{const{__scopeSelect:t,nonce:r,...n}=i,a=Qe(Ws,t),o=gr(Ws,t),l=Ie(e,a.onViewportChange),c=f.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(As.Slot,{scope:t,children:s.jsx(we.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:oe(n.onScroll,h=>{const u=h.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:x}=o;if(x!=null&&x.current&&m){const y=Math.abs(c.current-u.scrollTop);if(y>0){const j=window.innerHeight-je*2,g=parseFloat(m.style.minHeight),b=parseFloat(m.style.height),P=Math.max(g,b);if(P<j){const S=P+y,N=Math.min(j,S),I=S-N;m.style.height=N+"px",m.style.bottom==="0px"&&(u.scrollTop=I>0?I:0,m.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});ui.displayName=Ws;var pi="SelectGroup",[go,xo]=Mt(pi),yo=f.forwardRef((i,e)=>{const{__scopeSelect:t,...r}=i,n=fr();return s.jsx(go,{scope:t,id:n,children:s.jsx(we.div,{role:"group","aria-labelledby":n,...r,ref:e})})});yo.displayName=pi;var hi="SelectLabel",mi=f.forwardRef((i,e)=>{const{__scopeSelect:t,...r}=i,n=xo(hi,t);return s.jsx(we.div,{id:n.id,...r,ref:e})});mi.displayName=hi;var Ns="SelectItem",[vo,fi]=Mt(Ns),gi=f.forwardRef((i,e)=>{const{__scopeSelect:t,value:r,disabled:n=!1,textValue:a,...o}=i,l=Xe(Ns,t),c=Qe(Ns,t),h=l.value===r,[u,m]=f.useState(a??""),[x,y]=f.useState(!1),j=Ie(e,S=>{var N;return(N=c.itemRefCallback)==null?void 0:N.call(c,S,r,n)}),g=fr(),b=f.useRef("touch"),P=()=>{n||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(vo,{scope:t,value:r,disabled:n,textId:g,isSelected:h,onItemTextChange:f.useCallback(S=>{m(N=>N||((S==null?void 0:S.textContent)??"").trim())},[]),children:s.jsx(As.ItemSlot,{scope:t,value:r,disabled:n,textValue:u,children:s.jsx(we.div,{role:"option","aria-labelledby":g,"data-highlighted":x?"":void 0,"aria-selected":h&&x,"data-state":h?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...o,ref:j,onFocus:oe(o.onFocus,()=>y(!0)),onBlur:oe(o.onBlur,()=>y(!1)),onClick:oe(o.onClick,()=>{b.current!=="mouse"&&P()}),onPointerUp:oe(o.onPointerUp,()=>{b.current==="mouse"&&P()}),onPointerDown:oe(o.onPointerDown,S=>{b.current=S.pointerType}),onPointerMove:oe(o.onPointerMove,S=>{var N;b.current=S.pointerType,n?(N=c.onItemLeave)==null||N.call(c):b.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:oe(o.onPointerLeave,S=>{var N;S.currentTarget===document.activeElement&&((N=c.onItemLeave)==null||N.call(c))}),onKeyDown:oe(o.onKeyDown,S=>{var I;((I=c.searchRef)==null?void 0:I.current)!==""&&S.key===" "||(ro.includes(S.key)&&P(),S.key===" "&&S.preventDefault())})})})})});gi.displayName=Ns;var qt="SelectItemText",xi=f.forwardRef((i,e)=>{const{__scopeSelect:t,className:r,style:n,...a}=i,o=Xe(qt,t),l=Qe(qt,t),c=fi(qt,t),h=ao(qt,t),[u,m]=f.useState(null),x=Ie(e,P=>m(P),c.onItemTextChange,P=>{var S;return(S=l.itemTextRefCallback)==null?void 0:S.call(l,P,c.value,c.disabled)}),y=u==null?void 0:u.textContent,j=f.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=h;return Ge(()=>(g(j),()=>b(j)),[g,b,j]),s.jsxs(s.Fragment,{children:[s.jsx(we.span,{id:c.textId,...a,ref:x}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Gr.createPortal(a.children,o.valueNode):null]})});xi.displayName=qt;var yi="SelectItemIndicator",vi=f.forwardRef((i,e)=>{const{__scopeSelect:t,...r}=i;return fi(yi,t).isSelected?s.jsx(we.span,{"aria-hidden":!0,...r,ref:e}):null});vi.displayName=yi;var Gs="SelectScrollUpButton",wi=f.forwardRef((i,e)=>{const t=Qe(Gs,i.__scopeSelect),r=gr(Gs,i.__scopeSelect),[n,a]=f.useState(!1),o=Ie(e,r.onScrollButtonChange);return Ge(()=>{if(t.viewport&&t.isPositioned){let l=function(){const h=c.scrollTop>0;a(h)};const c=t.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),n?s.jsx(ji,{...i,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=t;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});wi.displayName=Gs;var Ks="SelectScrollDownButton",bi=f.forwardRef((i,e)=>{const t=Qe(Ks,i.__scopeSelect),r=gr(Ks,i.__scopeSelect),[n,a]=f.useState(!1),o=Ie(e,r.onScrollButtonChange);return Ge(()=>{if(t.viewport&&t.isPositioned){let l=function(){const h=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<h;a(u)};const c=t.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),n?s.jsx(ji,{...i,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=t;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});bi.displayName=Ks;var ji=f.forwardRef((i,e)=>{const{__scopeSelect:t,onAutoScroll:r,...n}=i,a=Qe("SelectScrollButton",t),o=f.useRef(null),l=$s(t),c=f.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),Ge(()=>{var u;const h=l().find(m=>m.ref.current===document.activeElement);(u=h==null?void 0:h.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(we.div,{"aria-hidden":!0,...n,ref:e,style:{flexShrink:0,...n.style},onPointerDown:oe(n.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:oe(n.onPointerMove,()=>{var h;(h=a.onItemLeave)==null||h.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:oe(n.onPointerLeave,()=>{c()})})}),wo="SelectSeparator",Si=f.forwardRef((i,e)=>{const{__scopeSelect:t,...r}=i;return s.jsx(we.div,{"aria-hidden":!0,...r,ref:e})});Si.displayName=wo;var Ys="SelectArrow",bo=f.forwardRef((i,e)=>{const{__scopeSelect:t,...r}=i,n=Is(t),a=Xe(Ys,t),o=Qe(Ys,t);return a.open&&o.position==="popper"?s.jsx(En,{...n,...r,ref:e}):null});bo.displayName=Ys;function Ni(i){return i===""||i===void 0}var Ti=f.forwardRef((i,e)=>{const{value:t,...r}=i,n=f.useRef(null),a=Ie(e,n),o=to(t);return f.useEffect(()=>{const l=n.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const m=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(m)}},[o,t]),s.jsx(Pn,{asChild:!0,children:s.jsx("select",{...r,ref:a,defaultValue:t})})});Ti.displayName="BubbleSelect";function Ci(i){const e=Fn(i),t=f.useRef(""),r=f.useRef(0),n=f.useCallback(o=>{const l=t.current+o;e(l),function c(h){t.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),a=f.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,n,a]}function Ei(i,e,t){const n=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,a=t?i.indexOf(t):-1;let o=jo(i,Math.max(a,0));n.length===1&&(o=o.filter(h=>h!==t));const c=o.find(h=>h.textValue.toLowerCase().startsWith(n.toLowerCase()));return c!==t?c:void 0}function jo(i,e){return i.map((t,r)=>i[(e+r)%i.length])}var So=ei,Pi=si,No=ii,To=ni,Co=oi,Fi=ai,Eo=ui,Ui=mi,Ri=gi,Po=xi,Fo=vi,ki=wi,Ai=bi,$i=Si;const Cr=So,Er=No,Xs=f.forwardRef(({className:i,children:e,...t},r)=>s.jsxs(Pi,{ref:r,className:Ke("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",i),...t,children:[e,s.jsx(To,{asChild:!0,children:s.jsx(Kr,{className:"h-4 w-4 opacity-50"})})]}));Xs.displayName=Pi.displayName;const Ii=f.forwardRef(({className:i,...e},t)=>s.jsx(ki,{ref:t,className:Ke("flex cursor-default items-center justify-center py-1",i),...e,children:s.jsx(eo,{className:"h-4 w-4"})}));Ii.displayName=ki.displayName;const Oi=f.forwardRef(({className:i,...e},t)=>s.jsx(Ai,{ref:t,className:Ke("flex cursor-default items-center justify-center py-1",i),...e,children:s.jsx(Kr,{className:"h-4 w-4"})}));Oi.displayName=Ai.displayName;const Qs=f.forwardRef(({className:i,children:e,position:t="popper",...r},n)=>s.jsx(Co,{children:s.jsxs(Fi,{ref:n,className:Ke("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",i),position:t,...r,children:[s.jsx(Ii,{}),s.jsx(Eo,{className:Ke("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),s.jsx(Oi,{})]})}));Qs.displayName=Fi.displayName;const Uo=f.forwardRef(({className:i,...e},t)=>s.jsx(Ui,{ref:t,className:Ke("py-1.5 pl-8 pr-2 text-sm font-semibold",i),...e}));Uo.displayName=Ui.displayName;const be=f.forwardRef(({className:i,children:e,...t},r)=>s.jsxs(Ri,{ref:r,className:Ke("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",i),...t,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Fo,{children:s.jsx(Xn,{className:"h-4 w-4"})})}),s.jsx(Po,{children:e})]}));be.displayName=Ri.displayName;const Ro=f.forwardRef(({className:i,...e},t)=>s.jsx($i,{ref:t,className:Ke("-mx-1 my-1 h-px bg-muted",i),...e}));Ro.displayName=$i.displayName;function Mi(i,e){return Object.hasOwn(i,e)}const{AbortController:qs}=globalThis,_i=(i="Aborted",e)=>{const t=new DOMException(i,"AbortError");return e!=null&&Mi(e,"cause")&&Object.defineProperty(t,"cause",{__proto__:null,configurable:!0,writable:!0,value:e.cause}),t};class ko extends Error{constructor(t,r){super(t);U(this,"isNetworkError");U(this,"cause");this.cause=r==null?void 0:r.cause,this.cause&&Mi(this.cause,"isNetworkError")?this.isNetworkError=this.cause.isNetworkError:this.isNetworkError=!1}}class Ao extends Error{constructor(t,r=null){super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.");U(this,"cause");U(this,"isNetworkError");U(this,"request");this.cause=t,this.isNetworkError=!0,this.request=r}}function $o(...i){return fetch(...i).catch(e=>{throw e.name==="AbortError"?e:new Ao(e)})}function Io(i){const e=t=>"error"in t&&!!t.error;return i.filter(t=>!e(t))}function Oo(i){return i.filter(e=>{var t;return!((t=e.progress)!=null&&t.uploadStarted)||!e.isRestored})}function Li(i){const e=i.lastIndexOf(".");return e===-1||e===i.length-1?{name:i,extension:void 0}:{name:i.slice(0,e),extension:i.slice(e+1)}}const Pr={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",msg:"application/vnd.ms-outlook",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function zi(i){var t;if(i.type)return i.type;const e=i.name?(t=Li(i.name).extension)==null?void 0:t.toLowerCase():null;return e&&e in Pr?Pr[e]:"application/octet-stream"}function Mo(i){return i.charCodeAt(0).toString(32)}function Fr(i){let e="";return i.replace(/[^A-Z0-9]/gi,t=>(e+=`-${Mo(t)}`,"/"))+e}function _o(i,e){var r;let t=e||"uppy";return typeof i.name=="string"&&(t+=`-${Fr(i.name.toLowerCase())}`),i.type!==void 0&&(t+=`-${i.type}`),i.meta&&typeof i.meta.relativePath=="string"&&(t+=`-${Fr(i.meta.relativePath.toLowerCase())}`),((r=i.data)==null?void 0:r.size)!==void 0&&(t+=`-${i.data.size}`),i.data.lastModified!==void 0&&(t+=`-${i.data.lastModified}`),t}function Lo(i){return!i.isRemote||!i.remote?!1:new Set(["box","dropbox","drive","facebook","unsplash"]).has(i.remote.provider)}function zo(i,e){if(Lo(i))return i.id;const t=zi(i);return _o({...i,type:t},e)}function Ur(i,e){return i===!0?Object.keys(e):Array.isArray(i)?i:[]}function Bo(i){var n;const t=(n=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?([^\n]+)/i.exec(i))==null?void 0:n[1];return`${/^http:\/\//i.test(i)?"ws":"wss"}://${t}`}function Ds(i){return i<10?`0${i}`:i.toString()}function js(){const i=new Date,e=Ds(i.getHours()),t=Ds(i.getMinutes()),r=Ds(i.getSeconds());return`${e}:${t}:${r}`}function qo(i){return new Error("Cancelled",{cause:i})}function Rr(i){var e;if(i!=null){const t=()=>this.abort(i.reason);i.addEventListener("abort",t,{once:!0});const r=()=>{i.removeEventListener("abort",t)};(e=this.then)==null||e.call(this,r,r)}return this}var Le,Re,ze,vt,ke,wt,rt,ce,Js,Dt,Bi,qi,Di,Ts,bt;class Do{constructor(e){v(this,ce);v(this,Le,0);v(this,Re,[]);v(this,ze,!1);v(this,vt);v(this,ke,1);v(this,wt);v(this,rt);U(this,"limit");v(this,Ts,()=>this.resume());v(this,bt,()=>{if(d(this,ze)){C(this,rt,setTimeout(d(this,bt),0));return}C(this,ke,this.limit),this.limit=Math.ceil((d(this,wt)+d(this,ke))/2);for(let e=d(this,ke);e<=this.limit;e++)w(this,ce,Dt).call(this);d(this,wt)-d(this,ke)>3?C(this,rt,setTimeout(d(this,bt),2e3)):C(this,ke,Math.floor(d(this,ke)/2))});typeof e!="number"||e===0?this.limit=1/0:this.limit=e}run(e,t){return!d(this,ze)&&d(this,Le)<this.limit?w(this,ce,Js).call(this,e):w(this,ce,qi).call(this,e,t)}wrapSyncFunction(e,t){return(...r)=>{const n=this.run(()=>(e(...r),queueMicrotask(()=>n.done()),()=>{}),t);return{abortOn:Rr,abort(){n.abort()}}}}wrapPromiseFunction(e,t){return(...r)=>{let n;const a=new Promise((o,l)=>{n=this.run(()=>{let c,h;try{h=Promise.resolve(e(...r))}catch(u){h=Promise.reject(u)}return h.then(u=>{c?l(c):(n.done(),o(u))},u=>{c?l(c):(n.done(),l(u))}),u=>{c=qo(u)}},t)});return a.abort=o=>{n.abort(o)},a.abortOn=Rr,a}}resume(){C(this,ze,!1),clearTimeout(d(this,vt));for(let e=0;e<this.limit;e++)w(this,ce,Dt).call(this)}pause(e=null){C(this,ze,!0),clearTimeout(d(this,vt)),e!=null&&C(this,vt,setTimeout(d(this,Ts),e))}rateLimit(e){clearTimeout(d(this,rt)),this.pause(e),this.limit>1&&Number.isFinite(this.limit)&&(C(this,wt,this.limit-1),this.limit=d(this,ke),C(this,rt,setTimeout(d(this,bt),e)))}get isPaused(){return d(this,ze)}}Le=new WeakMap,Re=new WeakMap,ze=new WeakMap,vt=new WeakMap,ke=new WeakMap,wt=new WeakMap,rt=new WeakMap,ce=new WeakSet,Js=function(e){C(this,Le,d(this,Le)+1);let t=!1,r;try{r=e()}catch(n){throw C(this,Le,d(this,Le)-1),n}return{abort:n=>{t||(t=!0,C(this,Le,d(this,Le)-1),r==null||r(n),w(this,ce,Dt).call(this))},done:()=>{t||(t=!0,C(this,Le,d(this,Le)-1),w(this,ce,Dt).call(this))}}},Dt=function(){queueMicrotask(()=>w(this,ce,Bi).call(this))},Bi=function(){if(d(this,ze)||d(this,Le)>=this.limit||d(this,Re).length===0)return;const e=d(this,Re).shift();if(e==null)throw new Error("Invariant violation: next is null");const t=w(this,ce,Js).call(this,e.fn);e.abort=t.abort,e.done=t.done},qi=function(e,t){const r={fn:e,priority:(t==null?void 0:t.priority)||0,abort:()=>{w(this,ce,Di).call(this,r)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},n=d(this,Re).findIndex(a=>r.priority>a.priority);return n===-1?d(this,Re).push(r):d(this,Re).splice(n,0,r),r},Di=function(e){const t=d(this,Re).indexOf(e);t!==-1&&d(this,Re).splice(t,1)},Ts=new WeakMap,bt=new WeakMap;function Ho(i,e,t){const r=[];return i.forEach(n=>typeof n!="string"?r.push(n):e[Symbol.split](n).forEach((a,o,l)=>{a!==""&&r.push(a),o<l.length-1&&r.push(t)})),r}/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param phrase that needs interpolation, with placeholders
 * @param options with values that will be used to replace placeholders
 */function kr(i,e){const t=/\$/g,r="$$$$";let n=[i];if(e==null)return n;for(const a of Object.keys(e))if(a!=="_"){let o=e[a];typeof o=="string"&&(o=t[Symbol.replace](o,r)),n=Ho(n,new RegExp(`%\\{${a}\\}`,"g"),o)}return n}const Vo=i=>{throw new Error(`missing string: ${i}`)};var Wt,Gt,Zs;class Hi{constructor(e,{onMissingKey:t=Vo}={}){v(this,Gt);U(this,"locale");v(this,Wt);this.locale={strings:{},pluralize(r){return r===1?0:1}},Array.isArray(e)?e.forEach(w(this,Gt,Zs),this):w(this,Gt,Zs).call(this,e),C(this,Wt,t)}translate(e,t){return this.translateArray(e,t).join("")}translateArray(e,t){let r=this.locale.strings[e];if(r==null&&(d(this,Wt).call(this,e),r=e),typeof r=="object"){if(t&&typeof t.smart_count<"u"){const a=this.locale.pluralize(t.smart_count);return kr(r[a],t)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if(typeof r!="string")throw new Error("string was not a string");return kr(r,t)}}Wt=new WeakMap,Gt=new WeakSet,Zs=function(e){if(!(e!=null&&e.strings))return;const t=this.locale;Object.assign(this.locale,{strings:{...t.strings,...e.strings},pluralize:e.pluralize||t.pluralize})};class Wo extends Error{constructor(){super(...arguments);U(this,"name","UserFacingApiError")}}class Go{constructor(e,t){U(this,"uppy");U(this,"opts");U(this,"id");U(this,"defaultLocale");U(this,"i18n");U(this,"i18nArray");U(this,"type");U(this,"VERSION");this.uppy=e,this.opts=t??{}}getPluginState(){const{plugins:e}=this.uppy.getState();return(e==null?void 0:e[this.id])||{}}setPluginState(e){const{plugins:t}=this.uppy.getState();this.uppy.setState({plugins:{...t,[this.id]:{...t[this.id],...e}}})}setOptions(e){this.opts={...this.opts,...e},this.setPluginState(void 0),this.i18nInit()}i18nInit(){const e=new Hi([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.setPluginState(void 0)}addTarget(e){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}update(e){}afterUpdate(){}}var Ae,Kt;class Ko{constructor(e){v(this,Ae);v(this,Kt,[]);C(this,Ae,e)}on(e,t){return d(this,Kt).push([e,t]),d(this,Ae).on(e,t)}remove(){for(const[e,t]of d(this,Kt).splice(0))d(this,Ae).off(e,t)}onFilePause(e,t){this.on("upload-pause",(r,n)=>{e===(r==null?void 0:r.id)&&t(n)})}onFileRemove(e,t){this.on("file-removed",r=>{e===r.id&&t(r.id)})}onPause(e,t){this.on("upload-pause",(r,n)=>{e===(r==null?void 0:r.id)&&t(n)})}onRetry(e,t){this.on("upload-retry",r=>{e===(r==null?void 0:r.id)&&t()})}onRetryAll(e,t){this.on("retry-all",()=>{d(this,Ae).getFile(e)&&t()})}onPauseAll(e,t){this.on("pause-all",()=>{d(this,Ae).getFile(e)&&t()})}onCancelAll(e,t){this.on("cancel-all",(...r)=>{d(this,Ae).getFile(e)&&t(...r)})}onResumeAll(e,t){this.on("resume-all",()=>{d(this,Ae).getFile(e)&&t()})}}Ae=new WeakMap,Kt=new WeakMap;const Yo={debug:()=>{},warn:()=>{},error:(...i)=>console.error(`[Uppy] [${js()}]`,...i)},Xo={debug:(...i)=>console.debug(`[Uppy] [${js()}]`,...i),warn:(...i)=>console.warn(`[Uppy] [${js()}]`,...i),error:(...i)=>console.error(`[Uppy] [${js()}]`,...i)};var Qo=function(e){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected a number, got ${typeof e}`);const t=e<0;let r=Math.abs(e);if(t&&(r=-r),r===0)return"0 B";const n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.min(Math.floor(Math.log(r)/Math.log(1024)),n.length-1),o=Number(r/1024**a),l=n[a];return`${o>=10||o%1===0?Math.round(o):o.toFixed(1)} ${l}`};const vs=Ot(Qo);function Vi(i,e){this.text=i=i||"",this.hasWild=~i.indexOf("*"),this.separator=e,this.parts=i.split(e)}Vi.prototype.match=function(i){var e=!0,t=this.parts,r,n=t.length,a;if(typeof i=="string"||i instanceof String)if(!this.hasWild&&this.text!=i)e=!1;else{for(a=(i||"").split(this.separator),r=0;e&&r<n;r++)t[r]!=="*"&&(r<a.length?e=t[r]===a[r]:e=!1);e=e&&a}else if(typeof i.splice=="function")for(e=[],r=i.length;r--;)this.match(i[r])&&(e[e.length]=i[r]);else if(typeof i=="object"){e={};for(var o in i)this.match(o)&&(e[o]=i[o])}return e};var Jo=function(i,e,t){var r=new Vi(i,t||/[\/\.]/);return typeof e<"u"?r.match(e):r},Zo=Jo,ea=/[\/\+\.]/,ta=function(i,e){function t(r){var n=Zo(r,i,ea);return n&&n.length>=2}return e?t(e.split(";")[0]):t};const sa=Ot(ta),ra={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class Fe extends Error{constructor(t,r){super(t);U(this,"isUserFacing");U(this,"file");U(this,"isRestriction",!0);this.isUserFacing=(r==null?void 0:r.isUserFacing)??!0,r!=null&&r.file&&(this.file=r.file)}}class ia{constructor(e,t){U(this,"getI18n");U(this,"getOpts");this.getI18n=t,this.getOpts=()=>{var n;const r=e();if(((n=r.restrictions)==null?void 0:n.allowedFileTypes)!=null&&!Array.isArray(r.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return r}}validateAggregateRestrictions(e,t){const{maxTotalFileSize:r,maxNumberOfFiles:n}=this.getOpts().restrictions;if(n&&e.filter(o=>!o.isGhost).length+t.length>n)throw new Fe(`${this.getI18n()("youCanOnlyUploadX",{smart_count:n})}`);if(r){const a=[...e,...t].reduce((o,l)=>o+(l.size??0),0);if(a>r)throw new Fe(this.getI18n()("aggregateExceedsSize",{sizeAllowed:vs(r),size:vs(a)}))}}validateSingleFile(e){const{maxFileSize:t,minFileSize:r,allowedFileTypes:n}=this.getOpts().restrictions;if(n&&!n.some(o=>o.includes("/")?e.type?sa(e.type.replace(/;.*?$/,""),o):!1:o[0]==="."&&e.extension?e.extension.toLowerCase()===o.slice(1).toLowerCase():!1)){const o=n.join(", ");throw new Fe(this.getI18n()("youCanOnlyUploadFileTypes",{types:o}),{file:e})}if(t&&e.size!=null&&e.size>t)throw new Fe(this.getI18n()("exceedsSize",{size:vs(t),file:e.name??this.getI18n()("unnamed")}),{file:e});if(r&&e.size!=null&&e.size<r)throw new Fe(this.getI18n()("inferiorSize",{size:vs(r)}),{file:e})}validate(e,t){t.forEach(r=>{this.validateSingleFile(r)}),this.validateAggregateRestrictions(e,t)}validateMinNumberOfFiles(e){const{minNumberOfFiles:t}=this.getOpts().restrictions;if(t&&Object.keys(e).length<t)throw new Fe(this.getI18n()("youHaveToAtLeastSelectX",{smart_count:t}))}getMissingRequiredMetaFields(e){const t=new Fe(this.getI18n()("missingRequiredMetaFieldOnFile",{fileName:e.name??this.getI18n()("unnamed")})),{requiredMetaFields:r}=this.getOpts().restrictions,n=[];for(const a of r)(!Object.hasOwn(e.meta,a)||e.meta[a]==="")&&n.push(a);return{missingFields:n,error:t}}}const na="@uppy/store-default",oa="The default simple object-based store for Uppy.",aa="5.0.0",la="MIT",ca="lib/index.js",da="module",ua=!1,pa={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},ha=["file uploader","uppy","uppy-store"],ma="https://uppy.io",fa={url:"https://github.com/transloadit/uppy/issues"},ga={jsdom:"^26.1.0",typescript:"^5.8.3",vitest:"^3.2.4"},xa={type:"git",url:"git+https://github.com/transloadit/uppy.git"},ya={".":"./lib/index.js","./package.json":"./package.json"},va=["src","lib","dist","CHANGELOG.md"],wa={name:na,description:oa,version:aa,license:la,main:ca,type:da,sideEffects:ua,scripts:pa,keywords:ha,homepage:ma,bugs:fa,devDependencies:ga,repository:xa,exports:ya,files:va};var jt,Cs,Gi;class Wi{constructor(){v(this,Cs);U(this,"state",{});v(this,jt,new Set)}getState(){return this.state}setState(e){const t={...this.state},r={...this.state,...e};this.state=r,w(this,Cs,Gi).call(this,t,r,e)}subscribe(e){return d(this,jt).add(e),()=>{d(this,jt).delete(e)}}}jt=new WeakMap,Cs=new WeakSet,Gi=function(...e){d(this,jt).forEach(t=>{t(...e)})},U(Wi,"VERSION",wa.version);function ba(i){var e=typeof i;return i!=null&&(e=="object"||e=="function")}var xr=ba,ja=typeof us=="object"&&us&&us.Object===Object&&us,Sa=ja,Na=Sa,Ta=typeof self=="object"&&self&&self.Object===Object&&self,Ca=Na||Ta||Function("return this")(),Ki=Ca,Ea=Ki,Pa=function(){return Ea.Date.now()},Fa=Pa,Ua=/\s/;function Ra(i){for(var e=i.length;e--&&Ua.test(i.charAt(e)););return e}var ka=Ra,Aa=ka,$a=/^\s+/;function Ia(i){return i&&i.slice(0,Aa(i)+1).replace($a,"")}var Oa=Ia,Ma=Ki,_a=Ma.Symbol,Yi=_a,Ar=Yi,Xi=Object.prototype,La=Xi.hasOwnProperty,za=Xi.toString,zt=Ar?Ar.toStringTag:void 0;function Ba(i){var e=La.call(i,zt),t=i[zt];try{i[zt]=void 0;var r=!0}catch{}var n=za.call(i);return r&&(e?i[zt]=t:delete i[zt]),n}var qa=Ba,Da=Object.prototype,Ha=Da.toString;function Va(i){return Ha.call(i)}var Wa=Va,$r=Yi,Ga=qa,Ka=Wa,Ya="[object Null]",Xa="[object Undefined]",Ir=$r?$r.toStringTag:void 0;function Qa(i){return i==null?i===void 0?Xa:Ya:Ir&&Ir in Object(i)?Ga(i):Ka(i)}var Ja=Qa;function Za(i){return i!=null&&typeof i=="object"}var el=Za,tl=Ja,sl=el,rl="[object Symbol]";function il(i){return typeof i=="symbol"||sl(i)&&tl(i)==rl}var nl=il,ol=Oa,Or=xr,al=nl,Mr=NaN,ll=/^[-+]0x[0-9a-f]+$/i,cl=/^0b[01]+$/i,dl=/^0o[0-7]+$/i,ul=parseInt;function pl(i){if(typeof i=="number")return i;if(al(i))return Mr;if(Or(i)){var e=typeof i.valueOf=="function"?i.valueOf():i;i=Or(e)?e+"":e}if(typeof i!="string")return i===0?i:+i;i=ol(i);var t=cl.test(i);return t||dl.test(i)?ul(i.slice(2),t?2:8):ll.test(i)?Mr:+i}var hl=pl,ml=xr,Hs=Fa,_r=hl,fl="Expected a function",gl=Math.max,xl=Math.min;function yl(i,e,t){var r,n,a,o,l,c,h=0,u=!1,m=!1,x=!0;if(typeof i!="function")throw new TypeError(fl);e=_r(e)||0,ml(t)&&(u=!!t.leading,m="maxWait"in t,a=m?gl(_r(t.maxWait)||0,e):a,x="trailing"in t?!!t.trailing:x);function y(R){var E=r,A=n;return r=n=void 0,h=R,o=i.apply(A,E),o}function j(R){return h=R,l=setTimeout(P,e),u?y(R):o}function g(R){var E=R-c,A=R-h,H=e-E;return m?xl(H,a-A):H}function b(R){var E=R-c,A=R-h;return c===void 0||E>=e||E<0||m&&A>=a}function P(){var R=Hs();if(b(R))return S(R);l=setTimeout(P,g(R))}function S(R){return l=void 0,x&&r?y(R):(r=n=void 0,o)}function N(){l!==void 0&&clearTimeout(l),h=0,r=c=n=l=void 0}function I(){return l===void 0?o:S(Hs())}function B(){var R=Hs(),E=b(R);if(r=arguments,n=this,c=R,E){if(l===void 0)return j(c);if(m)return clearTimeout(l),l=setTimeout(P,e),y(c)}return l===void 0&&(l=setTimeout(P,e)),o}return B.cancel=N,B.flush=I,B}var Qi=yl;const Ud=Ot(Qi);var vl=Qi,wl=xr,bl="Expected a function";function jl(i,e,t){var r=!0,n=!0;if(typeof i!="function")throw new TypeError(bl);return wl(t)&&(r="leading"in t?!!t.leading:r,n="trailing"in t?!!t.trailing:n),vl(i,e,{leading:r,maxWait:e,trailing:n})}var Sl=jl;const Nl=Ot(Sl);var Tl=function(){var e={},t=e._fns={};e.emit=function(o,l,c,h,u,m,x){var y=r(o);y.length&&n(o,y,[l,c,h,u,m,x])},e.on=function(o,l){t[o]||(t[o]=[]),t[o].push(l)},e.once=function(o,l){function c(){l.apply(this,arguments),e.off(o,c)}this.on(o,c)},e.off=function(o,l){var c=[];if(o&&l){var h=this._fns[o],u=0,m=h?h.length:0;for(u;u<m;u++)h[u]!==l&&c.push(h[u])}c.length?this._fns[o]=c:delete this._fns[o]};function r(a){var o=t[a]?t[a]:[],l=a.indexOf(":"),c=l===-1?[a]:[a.substring(0,l),a.substring(l+1)],h=Object.keys(t),u=0,m=h.length;for(u;u<m;u++){var x=h[u];if(x==="*"&&(o=o.concat(t[x])),c.length===2&&c[0]===x){o=o.concat(t[x]);break}}return o}function n(a,o,l){var c=0,h=o.length;for(c;c<h&&o[c];c++)o[c].event=a,o[c].apply(o[c],l)}return e};const Cl=Ot(Tl);let El="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Pl=(i=21)=>{let e="",t=i|0;for(;t--;)e+=El[Math.random()*64|0];return e};const Fl="@uppy/core",Ul="Core module for the extensible JavaScript file upload widget with support for drag&drop, resumable uploads, previews, restrictions, file processing/encoding, remote providers like Instagram, Dropbox, Google Drive, S3 and more :dog:",Rl="5.1.1",kl="MIT",Al="dist/style.min.css",$l="module",Il=["*.css"],Ol={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},Ml=["file uploader","uppy","uppy-plugin"],_l="https://uppy.io",Ll={url:"https://github.com/transloadit/uppy/issues"},zl={type:"git",url:"git+https://github.com/transloadit/uppy.git"},Bl=["src","lib","dist","CHANGELOG.md"],ql={".":"./lib/index.js","./css/style.min.css":"./dist/style.min.css","./css/style.css":"./dist/style.css","./css/style.scss":"./src/style.scss","./package.json":"./package.json"},Dl={"@transloadit/prettier-bytes":"^0.3.4","@uppy/store-default":"^5.0.0","@uppy/utils":"^7.1.1",lodash:"^4.17.21","mime-match":"^1.0.2","namespace-emitter":"^2.0.1",nanoid:"^5.0.9",preact:"^10.5.13"},Hl={"@types/deep-freeze":"^0",cssnano:"^7.0.7","deep-freeze":"^0.0.1",jsdom:"^26.1.0",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3",vitest:"^3.2.4"},Vl={name:Fl,description:Ul,version:Rl,license:kl,style:Al,type:$l,sideEffects:Il,scripts:Ol,keywords:Ml,homepage:_l,bugs:Ll,repository:zl,files:Bl,exports:ql,dependencies:Dl,devDependencies:Hl};function Wl(i,e){return e.name?e.name:i.split("/")[0]==="image"?`${i.split("/")[0]}.${i.split("/")[1]}`:"noname"}const Gl={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},aggregateExceedsSize:"You selected %{size} of files, but maximum allowed size is %{sizeAllowed}",exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",logIn:"Log in",pickFiles:"Pick files",pickPhotos:"Pick photos",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled",unnamed:"Unnamed",pleaseWait:"Please wait"}};function Kl(i){if(i==null&&typeof navigator<"u"&&(i=navigator.userAgent),!i)return!0;const e=/Edge\/(\d+\.\d+)/.exec(i);if(!e)return!0;const r=e[1].split(".",2),n=parseInt(r[0],10),a=parseInt(r[1],10);return n<15||n===15&&a<15063||n>18||n===18&&a>=18218}const ws={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null};var Se,Ne,Yt,it,St,Nt,nt,T,st,tr,Ji,Zi,en,sr,rr,ir,nr,Es,or,ot,tn,sn,We,Xt,Ht,rn,ar,Vt;const Ps=class Ps{constructor(e){v(this,T);v(this,Se,Object.create(null));v(this,Ne);v(this,Yt);v(this,it,Cl());v(this,St,new Set);v(this,Nt,new Set);v(this,nt,new Set);U(this,"defaultLocale");U(this,"locale");U(this,"opts");U(this,"store");U(this,"i18n");U(this,"i18nArray");U(this,"scheduledAutoProceed",null);U(this,"wasOffline",!1);v(this,Es,(e,t)=>{const r=e?this.getFile(e.id):void 0;if(e==null||!r){this.log(`Not setting progress for a file that has been removed: ${e==null?void 0:e.id}`);return}if(r.progress.percentage===100){this.log(`Not setting progress for a file that has been already uploaded: ${e.id}`);return}const n={bytesTotal:t.bytesTotal,percentage:t.bytesTotal!=null&&Number.isFinite(t.bytesTotal)&&t.bytesTotal>0?Math.round(t.bytesUploaded/t.bytesTotal*100):void 0};r.progress.uploadStarted!=null?this.setFileState(e.id,{progress:{...r.progress,...n,bytesUploaded:t.bytesUploaded}}):this.setFileState(e.id,{progress:{...r.progress,...n}}),d(this,ot).call(this)});v(this,ot,Nl(()=>w(this,T,or).call(this),500,{leading:!0,trailing:!0}));v(this,We,this.updateOnlineStatus.bind(this));v(this,Xt,new Map);this.defaultLocale=Gl;const t={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:ra,meta:{},onBeforeFileAdded:(n,a)=>!Object.hasOwn(a,n.id),onBeforeUpload:n=>n,store:new Wi,logger:Yo,infoTimeout:5e3},r={...t,...e};this.opts={...r,restrictions:{...t.restrictions,...e==null?void 0:e.restrictions}},e!=null&&e.logger&&e.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):e!=null&&e.debug&&(this.opts.logger=Xo),this.log(`Using Core v${Ps.VERSION}`),this.i18nInit(),this.store=this.opts.store,this.setState({...ws,plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:Kl(),individualCancellation:!0,resumableUploads:!1},meta:{...this.opts.meta},info:[]}),C(this,Ne,new ia(()=>this.opts,()=>this.i18n)),C(this,Yt,this.store.subscribe((n,a,o)=>{this.emit("state-update",n,a,o),this.updateAll(a)})),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),w(this,T,sn).call(this)}emit(e,...t){d(this,it).emit(e,...t)}on(e,t){return d(this,it).on(e,t),this}once(e,t){return d(this,it).once(e,t),this}off(e,t){return d(this,it).off(e,t),this}updateAll(e){this.iteratePlugins(t=>{t.update(e)})}setState(e){this.store.setState(e)}getState(){return this.store.getState()}patchFilesState(e){const t=this.getState().files;this.setState({files:{...t,...Object.fromEntries(Object.entries(e).map(([r,n])=>[r,{...t[r],...n}]))}})}setFileState(e,t){if(!this.getState().files[e])throw new Error(`Canâ€™t set state for ${e} (the file could have been removed)`);this.patchFilesState({[e]:t})}i18nInit(){const e=r=>this.log(`Missing i18n string: ${r}`,"error"),t=new Hi([this.defaultLocale,this.opts.locale],{onMissingKey:e});this.i18n=t.translate.bind(t),this.i18nArray=t.translateArray.bind(t),this.locale=t.locale}setOptions(e){this.opts={...this.opts,...e,restrictions:{...this.opts.restrictions,...e==null?void 0:e.restrictions}},e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins(t=>{t.setOptions(e)}),this.setState(void 0)}resetProgress(){const e={percentage:0,bytesUploaded:!1,uploadComplete:!1,uploadStarted:null},t={...this.getState().files},r=Object.create(null);Object.keys(t).forEach(n=>{r[n]={...t[n],progress:{...t[n].progress,...e},tus:void 0,transloadit:void 0}}),this.setState({files:r,...ws})}clear(){const{capabilities:e,currentUploads:t}=this.getState();if(Object.keys(t).length>0&&!e.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");this.setState({...ws,files:{}})}addPreProcessor(e){d(this,St).add(e)}removePreProcessor(e){return d(this,St).delete(e)}addPostProcessor(e){d(this,nt).add(e)}removePostProcessor(e){return d(this,nt).delete(e)}addUploader(e){d(this,Nt).add(e)}removeUploader(e){return d(this,Nt).delete(e)}setMeta(e){const t={...this.getState().meta,...e},r={...this.getState().files};Object.keys(r).forEach(n=>{r[n]={...r[n],meta:{...r[n].meta,...e}}}),this.log("Adding metadata:"),this.log(e),this.setState({meta:t,files:r})}setFileMeta(e,t){const r={...this.getState().files};if(!r[e]){this.log(`Was trying to set metadata for a file that has been removed: ${e}`);return}const n={...r[e].meta,...t};r[e]={...r[e],meta:n},this.setState({files:r})}getFile(e){return this.getState().files[e]}getFiles(){const{files:e}=this.getState();return Object.values(e)}getFilesByIds(e){return e.map(t=>this.getFile(t))}getObjectOfFilesPerState(){const{files:e,totalProgress:t,error:r}=this.getState(),n=Object.values(e),a=[],o=[],l=[],c=[],h=[],u=[],m=[],x=[],y=[];for(const j of n){const{progress:g}=j;!g.uploadComplete&&g.uploadStarted&&(a.push(j),j.isPaused||x.push(j)),g.uploadStarted||o.push(j),(g.uploadStarted||g.preprocess||g.postprocess)&&l.push(j),g.uploadStarted&&c.push(j),j.isPaused&&h.push(j),g.uploadComplete&&u.push(j),j.error&&m.push(j),(g.preprocess||g.postprocess)&&y.push(j)}return{newFiles:o,startedFiles:l,uploadStartedFiles:c,pausedFiles:h,completeFiles:u,erroredFiles:m,inProgressFiles:a,inProgressNotPausedFiles:x,processingFiles:y,isUploadStarted:c.length>0,isAllComplete:t===100&&u.length===n.length&&y.length===0,isAllErrored:!!r&&m.length===n.length,isAllPaused:a.length!==0&&h.length===a.length,isUploadInProgress:a.length>0,isSomeGhost:n.some(j=>j.isGhost)}}validateRestrictions(e,t=this.getFiles()){try{d(this,Ne).validate(t,[e])}catch(r){return r}return null}validateSingleFile(e){try{d(this,Ne).validateSingleFile(e)}catch(t){return t.message}return null}validateAggregateRestrictions(e){const t=this.getFiles();try{d(this,Ne).validateAggregateRestrictions(t,e)}catch(r){return r.message}return null}checkIfFileAlreadyExists(e){const{files:t}=this.getState();return!!(t[e]&&!t[e].isGhost)}addFile(e){const{nextFilesState:t,validFilesToAdd:r,errors:n}=w(this,T,rr).call(this,[e]),a=n.filter(l=>l.isRestriction);if(w(this,T,st).call(this,a),n.length>0)throw n[0];this.setState({files:t});const[o]=r;return this.emit("file-added",o),this.emit("files-added",r),this.log(`Added file: ${o.name}, ${o.id}, mime type: ${o.type}`),w(this,T,sr).call(this),o.id}addFiles(e){const{nextFilesState:t,validFilesToAdd:r,errors:n}=w(this,T,rr).call(this,e),a=n.filter(l=>l.isRestriction);w(this,T,st).call(this,a);const o=n.filter(l=>!l.isRestriction);if(o.length>0){let l=`Multiple errors occurred while adding files:
`;if(o.forEach(c=>{l+=`
 * ${c.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:o.length}),details:l},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(o,l);{const c=new Error(l);throw c.errors=o,c}}this.setState({files:t}),r.forEach(l=>{this.emit("file-added",l)}),this.emit("files-added",r),r.length>5?this.log(`Added batch of ${r.length} files`):Object.values(r).forEach(l=>{this.log(`Added file: ${l.name}
 id: ${l.id}
 type: ${l.type}`)}),r.length>0&&w(this,T,sr).call(this)}removeFiles(e){const{files:t,currentUploads:r}=this.getState(),n={...t},a={...r},o=Object.create(null);e.forEach(u=>{t[u]&&(o[u]=t[u],delete n[u])});function l(u){return o[u]===void 0}Object.keys(a).forEach(u=>{const m=r[u].fileIDs.filter(l);if(m.length===0){delete a[u];return}const{capabilities:x}=this.getState();if(m.length!==r[u].fileIDs.length&&!x.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");a[u]={...r[u],fileIDs:m}});const c={currentUploads:a,files:n};Object.keys(n).length===0&&(c.allowNewUpload=!0,c.error=null,c.recoveredState=null),this.setState(c),d(this,ot).call(this);const h=Object.keys(o);h.forEach(u=>{this.emit("file-removed",o[u])}),h.length>5?this.log(`Removed ${h.length} files`):this.log(`Removed files: ${h.join(", ")}`)}removeFile(e){this.removeFiles([e])}pauseResume(e){if(!this.getState().capabilities.resumableUploads||this.getFile(e).progress.uploadComplete)return;const t=this.getFile(e),n=!(t.isPaused||!1);return this.setFileState(e,{isPaused:n}),this.emit("upload-pause",t,n),n}pauseAll(){const e={...this.getState().files};Object.keys(e).filter(r=>!e[r].progress.uploadComplete&&e[r].progress.uploadStarted).forEach(r=>{const n={...e[r],isPaused:!0};e[r]=n}),this.setState({files:e}),this.emit("pause-all")}resumeAll(){const e={...this.getState().files};Object.keys(e).filter(r=>!e[r].progress.uploadComplete&&e[r].progress.uploadStarted).forEach(r=>{const n={...e[r],isPaused:!1,error:null};e[r]=n}),this.setState({files:e}),this.emit("resume-all")}async retryAll(){const e=await w(this,T,nr).call(this);return this.emit("complete",e),e}cancelAll(){this.emit("cancel-all");const{files:e}=this.getState(),t=Object.keys(e);t.length&&this.removeFiles(t),this.setState(ws)}retryUpload(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",this.getFile(e));const t=w(this,T,Ht).call(this,[e],{forceAllowNewUpload:!0});return w(this,T,Vt).call(this,t)}logout(){this.iteratePlugins(e=>{var t,r;(r=(t=e.provider)==null?void 0:t.logout)==null||r.call(t)})}[Symbol.for("uppy test: updateTotalProgress")](){return w(this,T,or).call(this)}updateOnlineStatus(){window.navigator.onLine??!0?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(e,...t){if(typeof e!="function"){const o=`Expected a plugin class, but got ${e===null?"null":typeof e}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(o)}const r=new e(this,...t),n=r.id;if(!n)throw new Error("Your plugin must have an id");if(!r.type)throw new Error("Your plugin must have a type");const a=this.getPlugin(n);if(a){const o=`Already found a plugin named '${a.id}'. Tried to use: '${n}'.
Uppy plugins must have unique \`id\` options.`;throw new Error(o)}return e.VERSION&&this.log(`Using ${n} v${e.VERSION}`),r.type in d(this,Se)?d(this,Se)[r.type].push(r):d(this,Se)[r.type]=[r],r.install(),this.emit("plugin-added",r),this}getPlugin(e){for(const t of Object.values(d(this,Se))){const r=t.find(n=>n.id===e);if(r!=null)return r}}[Symbol.for("uppy test: getPlugins")](e){return d(this,Se)[e]}iteratePlugins(e){Object.values(d(this,Se)).flat(1).forEach(e)}removePlugin(e){this.log(`Removing plugin ${e.id}`),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();const t=d(this,Se)[e.type],r=t.findIndex(o=>o.id===e.id);r!==-1&&t.splice(r,1);const a={plugins:{...this.getState().plugins,[e.id]:void 0}};this.setState(a)}destroy(){this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll(),d(this,Yt).call(this),this.iteratePlugins(e=>{this.removePlugin(e)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",d(this,We)),window.removeEventListener("offline",d(this,We)))}hideInfo(){const{info:e}=this.getState();this.setState({info:e.slice(1)}),this.emit("info-hidden")}info(e,t="info",r=3e3){const n=typeof e=="object";this.setState({info:[...this.getState().info,{type:t,message:n?e.message:e,details:n?e.details:null}]}),setTimeout(()=>this.hideInfo(),r),this.emit("info-visible")}log(e,t){const{logger:r}=this.opts;switch(t){case"error":r.error(e);break;case"warning":r.warn(e);break;default:r.debug(e);break}}registerRequestClient(e,t){d(this,Xt).set(e,t)}getRequestClientForFile(e){if(!("remote"in e&&e.remote))throw new Error(`Tried to get RequestClient for a non-remote file ${e.id}`);const t=d(this,Xt).get(e.remote.requestClientId);if(t==null)throw new Error(`requestClientId "${e.remote.requestClientId}" not registered for file "${e.id}"`);return t}async restore(e){this.log(`Core: Running restored upload "${e}"`);const t=await w(this,T,Vt).call(this,e);return this.emit("complete",t),t}[Symbol.for("uppy test: createUpload")](...e){return w(this,T,Ht).call(this,...e)}addResultData(e,t){if(!w(this,T,rn).call(this,e)){this.log(`Not setting result for an upload that has been removed: ${e}`);return}const{currentUploads:r}=this.getState(),n={...r[e],result:{...r[e].result,...t}};this.setState({currentUploads:{...r,[e]:n}})}async upload(){var n;(n=d(this,Se).uploader)!=null&&n.length||this.log("No uploader type plugins are used","warning");let{files:e}=this.getState();if(w(this,T,ir).call(this).length>0){const a=await w(this,T,nr).call(this);if(!(this.getFiles().filter(l=>l.progress.uploadStarted==null).length>0))return this.emit("complete",a),a;({files:e}=this.getState())}const r=this.opts.onBeforeUpload(e);if(r===!1)throw new Error("Not starting the upload because onBeforeUpload returned false");r&&typeof r=="object"&&(e=r,this.setState({files:e}));try{if(d(this,Ne).validateMinNumberOfFiles(e),!w(this,T,Ji).call(this,e))throw new Fe(this.i18n("missingRequiredMetaField"));const{currentUploads:a}=this.getState(),o=Object.values(a).flatMap(u=>u.fileIDs),l=Object.keys(e).filter(u=>{const m=this.getFile(u);return m&&!m.progress.uploadStarted&&!o.includes(u)}),c=w(this,T,Ht).call(this,l),h=await w(this,T,Vt).call(this,c);return this.emit("complete",h),h}catch(a){throw w(this,T,st).call(this,[a]),a}}};Se=new WeakMap,Ne=new WeakMap,Yt=new WeakMap,it=new WeakMap,St=new WeakMap,Nt=new WeakMap,nt=new WeakMap,T=new WeakSet,st=function(e){for(const o of e)o.isRestriction?this.emit("restriction-failed",o.file,o):this.emit("error",o,o.file),this.log(o,"warning");const t=e.filter(o=>o.isUserFacing),r=4,n=t.slice(0,r),a=t.slice(r);n.forEach(({message:o,details:l=""})=>{this.info({message:o,details:l},"error",this.opts.infoTimeout)}),a.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:a.length})})},tr=function(e){const{missingFields:t,error:r}=d(this,Ne).getMissingRequiredMetaFields(e);return t.length>0?(this.setFileState(e.id,{missingRequiredMetaFields:t,error:r.message}),this.log(r.message),this.emit("restriction-failed",e,r),!1):(t.length===0&&e.missingRequiredMetaFields&&this.setFileState(e.id,{missingRequiredMetaFields:[]}),!0)},Ji=function(e){let t=!0;for(const r of Object.values(e))w(this,T,tr).call(this,r)||(t=!1);return t},Zi=function(e){const{allowNewUpload:t}=this.getState();if(t===!1){const r=new Fe(this.i18n("noMoreFilesAllowed"),{file:e});throw w(this,T,st).call(this,[r]),r}},en=function(e){const t=e instanceof File?{name:e.name,type:e.type,size:e.size,data:e,meta:{},isRemote:!1,source:void 0,preview:void 0}:e,r=zi(t),n=Wl(r,t),a=Li(n).extension,o=zo(t,this.getID()),l={...t.meta,name:n,type:r},c=Number.isFinite(t.data.size)?t.data.size:null;return{source:t.source||"",id:o,name:n,extension:a||"",meta:{...this.getState().meta,...l},type:r,progress:{percentage:0,bytesUploaded:!1,bytesTotal:c,uploadComplete:!1,uploadStarted:null},size:c,isGhost:!1,...t.isRemote?{isRemote:!0,remote:t.remote,data:t.data}:{isRemote:!1,data:t.data},preview:t.preview}},sr=function(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(e=>{e.isRestriction||this.log(e.stack||e.message||e)})},4))},rr=function(e){let{files:t}=this.getState(),r={...t};const n=[],a=[];for(const o of e)try{let l=w(this,T,en).call(this,o);w(this,T,Zi).call(this,l);const c=t[l.id],h=c==null?void 0:c.isGhost;if(h&&!l.isRemote){if(l.data==null)throw new Error("File data is missing");l={...c,isGhost:!1,data:l.data},this.log(`Replaced the blob in the restored ghost file: ${l.name}, ${l.id}`)}const u=this.opts.onBeforeFileAdded(l,r);if(t=this.getState().files,r={...t,...r},!u&&this.checkIfFileAlreadyExists(l.id))throw new Fe(this.i18n("noDuplicates",{fileName:l.name??this.i18n("unnamed")}),{file:l});if(u===!1&&!h)throw new Fe("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:l});typeof u=="object"&&u!==null&&(l=u),d(this,Ne).validateSingleFile(l),r[l.id]=l,n.push(l)}catch(l){a.push(l)}try{d(this,Ne).validateAggregateRestrictions(Object.values(t),n)}catch(o){return a.push(o),{nextFilesState:t,validFilesToAdd:[],errors:a}}return{nextFilesState:r,validFilesToAdd:n,errors:a}},ir=function(){const{files:e}=this.getState();return Object.keys(e).filter(t=>{const r=e[t];return r.error&&(!r.missingRequiredMetaFields||r.missingRequiredMetaFields.length===0)})},nr=async function(){const e=w(this,T,ir).call(this),t={...this.getState().files};if(e.forEach(n=>{t[n]={...t[n],isPaused:!1,error:null}}),this.setState({files:t,error:null}),this.emit("retry-all",this.getFilesByIds(e)),e.length===0)return{successful:[],failed:[]};const r=w(this,T,Ht).call(this,e,{forceAllowNewUpload:!0});return w(this,T,Vt).call(this,r)},Es=new WeakMap,or=function(){const e=w(this,T,tn).call(this);let t=null;e!=null&&(t=Math.round(e*100),t>100?t=100:t<0&&(t=0)),this.emit("progress",t??0),this.setState({totalProgress:t??0})},ot=new WeakMap,tn=function(){const t=this.getFiles().filter(c=>c.progress.uploadStarted||c.progress.preprocess||c.progress.postprocess);if(t.length===0)return 0;if(t.every(c=>c.progress.uploadComplete))return 1;const r=c=>c.progress.bytesTotal!=null&&c.progress.bytesTotal!==0,n=t.filter(r),a=t.filter(c=>!r(c));if(n.every(c=>c.progress.uploadComplete)&&a.length>0&&!a.every(c=>c.progress.uploadComplete))return null;const o=n.reduce((c,h)=>c+(h.progress.bytesTotal??0),0),l=n.reduce((c,h)=>c+(h.progress.bytesUploaded||0),0);return o===0?0:l/o},sn=function(){const e=(n,a,o)=>{let l=n.message||"Unknown error";n.details&&(l+=` ${n.details}`),this.setState({error:l}),a!=null&&a.id in this.getState().files&&this.setFileState(a.id,{error:l,response:o})};this.on("error",e),this.on("upload-error",(n,a,o)=>{if(e(a,n,o),typeof a=="object"&&a.message){this.log(a.message,"error");const l=new Error(this.i18n("failedToUpload",{file:(n==null?void 0:n.name)??""}));l.isUserFacing=!0,l.details=a.message,a.details&&(l.details+=` ${a.details}`),w(this,T,st).call(this,[l])}else w(this,T,st).call(this,[a])});let t=null;this.on("upload-stalled",(n,a)=>{const{message:o}=n,l=a.map(c=>c.meta.name).join(", ");t||(this.info({message:o,details:l},"warning",this.opts.infoTimeout),t=setTimeout(()=>{t=null},this.opts.infoTimeout)),this.log(`${o} ${l}`.trim(),"warning")}),this.on("upload",()=>{this.setState({error:null})});const r=n=>{const a=n.filter(l=>{const c=l!=null&&this.getFile(l.id);return c||this.log(`Not setting progress for a file that has been removed: ${l==null?void 0:l.id}`),c}),o=Object.fromEntries(a.map(l=>[l.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,bytesUploaded:0,bytesTotal:l.size}}]));this.patchFilesState(o)};this.on("upload-start",r),this.on("upload-progress",d(this,Es)),this.on("upload-success",(n,a)=>{if(n==null||!this.getFile(n.id)){this.log(`Not setting progress for a file that has been removed: ${n==null?void 0:n.id}`);return}const o=this.getFile(n.id).progress,l=d(this,nt).size>0;this.setFileState(n.id,{progress:{...o,postprocess:l?{mode:"indeterminate"}:void 0,uploadComplete:!0,...!l&&{complete:!0},percentage:100,bytesUploaded:o.bytesTotal},response:a,uploadURL:a.uploadURL,isPaused:!1}),n.size==null&&this.setFileState(n.id,{size:a.bytesUploaded||o.bytesTotal}),d(this,ot).call(this)}),this.on("preprocess-progress",(n,a)=>{if(n==null||!this.getFile(n.id)){this.log(`Not setting progress for a file that has been removed: ${n==null?void 0:n.id}`);return}this.setFileState(n.id,{progress:{...this.getFile(n.id).progress,preprocess:a}})}),this.on("preprocess-complete",n=>{if(n==null||!this.getFile(n.id)){this.log(`Not setting progress for a file that has been removed: ${n==null?void 0:n.id}`);return}const a={...this.getState().files};a[n.id]={...a[n.id],progress:{...a[n.id].progress}},delete a[n.id].progress.preprocess,this.setState({files:a})}),this.on("postprocess-progress",(n,a)=>{if(n==null||!this.getFile(n.id)){this.log(`Not setting progress for a file that has been removed: ${n==null?void 0:n.id}`);return}this.setFileState(n.id,{progress:{...this.getState().files[n.id].progress,postprocess:a}})}),this.on("postprocess-complete",n=>{const a=n&&this.getFile(n.id);if(a==null){this.log(`Not setting progress for a file that has been removed: ${n==null?void 0:n.id}`);return}const{postprocess:o,...l}=a.progress;this.patchFilesState({[a.id]:{progress:{...l,complete:!0}}})}),this.on("restored",()=>{d(this,ot).call(this)}),this.on("dashboard:file-edit-complete",n=>{n&&w(this,T,tr).call(this,n)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",d(this,We)),window.addEventListener("offline",d(this,We)),setTimeout(d(this,We),3e3))},We=new WeakMap,Xt=new WeakMap,Ht=function(e,t={}){const{forceAllowNewUpload:r=!1}=t,{allowNewUpload:n,currentUploads:a}=this.getState();if(!n&&!r)throw new Error("Cannot create a new upload: already uploading.");const o=Pl();return this.emit("upload",o,this.getFilesByIds(e)),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{...a,[o]:{fileIDs:e,step:0,result:{}}}}),o},rn=function(e){const{currentUploads:t}=this.getState();return t[e]},ar=function(e){const{[e]:t,...r}=this.getState().currentUploads;this.setState({currentUploads:r})},Vt=async function(e){const t=()=>{const{currentUploads:o}=this.getState();return o[e]};let r=t();if(!r)throw new Error("Nonexistent upload");const n=[...d(this,St),...d(this,Nt),...d(this,nt)];try{for(let o=r.step||0;o<n.length&&r;o++){const l=n[o];this.setState({currentUploads:{...this.getState().currentUploads,[e]:{...r,step:o}}});const c=r.fileIDs.filter(h=>!this.getFile(h).progress.uploadComplete);await l(c,e),r=t()}}catch(o){throw w(this,T,ar).call(this,e),o}if(r){r.fileIDs.forEach(h=>{const u=this.getFile(h);u!=null&&u.progress.postprocess&&this.emit("postprocess-complete",u)});const o=r.fileIDs.map(h=>this.getFile(h)),l=o.filter(h=>!h.error),c=o.filter(h=>h.error);this.addResultData(e,{successful:l,failed:c,uploadID:e}),r=t()}let a;return r&&(a=r.result,w(this,T,ar).call(this,e)),a==null&&(this.log(`Not setting result for an upload that has been removed: ${e}`),a={successful:[],failed:[],uploadID:e}),a},U(Ps,"VERSION",Vl.version);let er=Ps;var nn={};function ve(i,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(i)),this._timeouts=i,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var Yl=ve;ve.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};ve.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};ve.prototype.retry=function(i){if(this._timeout&&clearTimeout(this._timeout),!i)return!1;var e=new Date().getTime();if(i&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(i),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(i);var t=this._timeouts.shift();if(t===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),t=this._cachedTimeouts.slice(-1);else return!1;var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},t),this._options.unref&&this._timer.unref(),!0};ve.prototype.attempt=function(i,e){this._fn=i,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var t=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){t._operationTimeoutCb()},t._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};ve.prototype.try=function(i){console.log("Using RetryOperation.try() is deprecated"),this.attempt(i)};ve.prototype.start=function(i){console.log("Using RetryOperation.start() is deprecated"),this.attempt(i)};ve.prototype.start=ve.prototype.try;ve.prototype.errors=function(){return this._errors};ve.prototype.attempts=function(){return this._attempts};ve.prototype.mainError=function(){if(this._errors.length===0)return null;for(var i={},e=null,t=0,r=0;r<this._errors.length;r++){var n=this._errors[r],a=n.message,o=(i[a]||0)+1;i[a]=o,o>=t&&(e=n,t=o)}return e};(function(i){var e=Yl;i.operation=function(t){var r=i.timeouts(t);return new e(r,{forever:t&&(t.forever||t.retries===1/0),unref:t&&t.unref,maxRetryTime:t&&t.maxRetryTime})},i.timeouts=function(t){if(t instanceof Array)return[].concat(t);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var n in t)r[n]=t[n];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var a=[],o=0;o<r.retries;o++)a.push(this.createTimeout(o,r));return t&&t.forever&&!a.length&&a.push(this.createTimeout(o,r)),a.sort(function(l,c){return l-c}),a},i.createTimeout=function(t,r){var n=r.randomize?Math.random()+1:1,a=Math.round(n*Math.max(r.minTimeout,1)*Math.pow(r.factor,t));return a=Math.min(a,r.maxTimeout),a},i.wrap=function(t,r,n){if(r instanceof Array&&(n=r,r=null),!n){n=[];for(var a in t)typeof t[a]=="function"&&n.push(a)}for(var o=0;o<n.length;o++){var l=n[o],c=t[l];t[l]=(function(u){var m=i.operation(r),x=Array.prototype.slice.call(arguments,1),y=x.pop();x.push(function(j){m.retry(j)||(j&&(arguments[0]=m.mainError()),y.apply(this,arguments))}),m.attempt(function(){u.apply(t,x)})}).bind(t,c),t[l].options=r}}})(nn);var Xl=nn;const Ql=Ot(Xl),Jl=Object.prototype.toString,Zl=i=>Jl.call(i)==="[object Error]",ec=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function tc(i){if(!(i&&Zl(i)&&i.name==="TypeError"&&typeof i.message=="string"))return!1;const{message:t,stack:r}=i;return t==="Load failed"?r===void 0||"__sentry_captured__"in i:t.startsWith("error sending request for url")?!0:ec.has(t)}class lr extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const Lr=(i,e,t)=>{const r=t.retries-(e-1);return i.attemptNumber=e,i.retriesLeft=r,i};async function zr(i,e){return new Promise((t,r)=>{e={...e},e.onFailedAttempt??(e.onFailedAttempt=()=>{}),e.shouldRetry??(e.shouldRetry=()=>!0),e.retries??(e.retries=10);const n=Ql.operation(e),a=()=>{var l;n.stop(),r((l=e.signal)==null?void 0:l.reason)};e.signal&&!e.signal.aborted&&e.signal.addEventListener("abort",a,{once:!0});const o=()=>{var l;(l=e.signal)==null||l.removeEventListener("abort",a),n.stop()};n.attempt(async l=>{try{const c=await i(l);o(),t(c)}catch(c){try{if(!(c instanceof Error))throw new TypeError(`Non-error was thrown: "${c}". You should only throw errors.`);if(c instanceof lr)throw c.originalError;if(c instanceof TypeError&&!tc(c))throw c;if(Lr(c,l,e),await e.shouldRetry(c)||(n.stop(),r(c)),await e.onFailedAttempt(c),!n.retry(c))throw n.mainError()}catch(h){Lr(h,l,e),o(),r(h)}}})})}const sc="@uppy/companion-client",rc="Client library for communication with Companion. Intended for use in Uppy plugins.",ic="5.1.1",nc="MIT",oc="module",ac=!1,lc={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},cc=["file uploader","uppy","uppy-plugin","companion","provider"],dc="https://uppy.io",uc={url:"https://github.com/transloadit/uppy/issues"},pc={type:"git",url:"git+https://github.com/transloadit/uppy.git"},hc=["src","lib","dist","CHANGELOG.md"],mc={".":"./lib/index.js","./package.json":"./package.json"},fc={"@uppy/utils":"^7.1.1","namespace-emitter":"^2.0.1","p-retry":"^6.1.0"},gc={jsdom:"^26.1.0",typescript:"^5.8.3",vitest:"^3.2.4"},xc={"@uppy/core":"^5.1.1"},yc={name:sc,description:rc,version:ic,license:nc,type:oc,sideEffects:ac,scripts:lc,keywords:cc,homepage:dc,bugs:uc,repository:pc,files:hc,exports:mc,dependencies:fc,devDependencies:gc,peerDependencies:xc};class vc extends Error{constructor(){super("Authorization required");U(this,"isAuthError");this.name="AuthError",this.isAuthError=!0}}function wc(i){return i.replace(/\/$/,"")}const Br=10,bc=5*60*1e3,jc=401;class Sc extends Error{constructor({statusCode:t,message:r}){super(r);U(this,"statusCode");this.name="HttpError",this.statusCode=t}}async function Nc(i){if(i.status===jc)throw new vc;if(i.ok)return i.json();let e=`Failed request with status: ${i.status}. ${i.statusText}`,t;try{t=await i.json(),t.message&&(e=`${e} message: ${t.message}`),t.requestId&&(e=`${e} request-Id: ${t.requestId}`)}catch(r){throw new Error(e,{cause:r})}throw i.status>=400&&i.status<=499&&t.message?new Wo(t.message):new Sc({statusCode:i.status,message:e})}function Tc(i,e,t){const{progress:r,bytesUploaded:n,bytesTotal:a}=e;r&&(i.uppy.log(`Upload progress: ${r}`),i.uppy.emit("upload-progress",t,{uploadStarted:t.progress.uploadStarted??0,bytesUploaded:n,bytesTotal:a}))}var at,Ye,cr,Fs,dr;class on{constructor(e,t){v(this,Ye);v(this,at);U(this,"uppy");U(this,"opts");v(this,Fs,async({file:e,postBody:t,signal:r})=>{var a;if(((a=e.remote)==null?void 0:a.url)==null)throw new Error("Cannot connect to an undefined URL");return(await this.post(e.remote.url,{...e.remote.body,...t},{signal:r})).token});this.uppy=e,this.opts=t,this.onReceiveResponse=this.onReceiveResponse.bind(this),C(this,at,t.companionHeaders)}setCompanionHeaders(e){C(this,at,e)}[Symbol.for("uppy test: getCompanionHeaders")](){return d(this,at)}get hostname(){const{companion:e}=this.uppy.getState(),t=this.opts.companionUrl;return wc(e!=null&&e[t]?e[t]:t)}async headers(e=!1){return{...{Accept:"application/json",...e?void 0:{"Content-Type":"application/json"}},...d(this,at)}}onReceiveResponse(e){const{headers:t}=e,n=this.uppy.getState().companion||{},a=this.opts.companionUrl;t.has("i-am")&&t.get("i-am")!==n[a]&&this.uppy.setState({companion:{...n,[a]:t.get("i-am")}})}async request({path:e,method:t="GET",data:r,skipPostResponse:n,signal:a}){try{const o=await this.headers(!r),l=await $o(w(this,Ye,cr).call(this,e),{method:t,signal:a,headers:o,credentials:this.opts.companionCookiesRule||"same-origin",body:r?JSON.stringify(r):null});return n||this.onReceiveResponse(l),await Nc(l)}catch(o){throw o.isAuthError||o.name==="UserFacingApiError"||o.name==="AbortError"?o:new ko(`Could not ${t} ${w(this,Ye,cr).call(this,e)}`,{cause:o})}}async get(e,t){return this.request({...t,path:e})}async post(e,t,r){return this.request({...r,path:e,method:"POST",data:t})}async delete(e,t,r){return this.request({...r,path:e,method:"DELETE",data:t})}async uploadRemoteFile(e,t,r){try{const{signal:n,getQueue:a}=r||{};return await zr(async()=>{var h;const o=(h=this.uppy.getFile(e.id))==null?void 0:h.serverToken;if(o!=null)return this.uppy.log(`Connecting to exiting websocket ${o}`),w(this,Ye,dr).call(this,{file:e,queue:a(),signal:n});const c=await a().wrapPromiseFunction(async(...u)=>{try{return await d(this,Fs).call(this,...u)}catch(m){if(m.isAuthError)throw new lr(m);if(m.cause==null)throw m;const x=m.cause,y=()=>[408,409,429,418,423].includes(x.statusCode)||x.statusCode>=500&&x.statusCode<=599&&![501,505].includes(x.statusCode);throw x.name==="HttpError"&&!y()?new lr(x):x}},{priority:-1})({file:e,postBody:t,signal:n}).abortOn(n);if(this.uppy.getFile(e.id))return this.uppy.setFileState(e.id,{serverToken:c}),w(this,Ye,dr).call(this,{file:this.uppy.getFile(e.id),queue:a(),signal:n})},{retries:Br,signal:n,onFailedAttempt:o=>this.uppy.log(`Retrying upload due to: ${o.message}`,"warning")})}catch(n){if(n.name==="AbortError")return;throw this.uppy.emit("upload-error",e,n),n}}}at=new WeakMap,Ye=new WeakSet,cr=function(e){return/^(https?:|)\/\//.test(e)?e:`${this.hostname}/${e}`},Fs=new WeakMap,dr=async function({file:e,queue:t,signal:r}){let n;const{capabilities:a}=this.uppy.getState();try{return await new Promise((o,l)=>{const c=e.serverToken,h=Bo(e.remote.companionUrl);let u,m,x,{isPaused:y}=e;const j=(E,A)=>{if(u==null||u.readyState!==u.OPEN){this.uppy.log(`Cannot send "${E}" to socket ${e.id} because the socket state was ${String(u==null?void 0:u.readyState)}`,"warning");return}u.send(JSON.stringify({action:E,payload:A??{}}))};function g(){a.resumableUploads&&j(y?"pause":"resume")}const b=async()=>{m&&m.abort(),m=new AbortController;const E=H=>{var pe;this.uppy.setFileState(e.id,{serverToken:null}),(pe=m==null?void 0:m.abort)==null||pe.call(m),l(H)};function A(){clearTimeout(x),!y&&(x=setTimeout(()=>E(new Error("Timeout waiting for message from Companion socket")),bc))}try{await t.wrapPromiseFunction(async()=>{await zr(async()=>new Promise((pe,O)=>{u=new WebSocket(`${h}/api/${c}`),A(),u.addEventListener("close",()=>{u=void 0,O(new Error("Socket closed unexpectedly"))}),u.addEventListener("error",V=>{this.uppy.log(`Companion socket error ${JSON.stringify(V)}, closing socket`,"warning"),u==null||u.close()}),u.addEventListener("open",()=>{g()}),u.addEventListener("message",V=>{var ae,he,D;A();try{const{action:re,payload:M}=JSON.parse(V.data);switch(re){case"progress":{Tc(this,M,this.uppy.getFile(e.id));break}case"success":{const ie=(ae=M.response)==null?void 0:ae.responseText;this.uppy.emit("upload-success",this.uppy.getFile(e.id),{uploadURL:M.url,status:((he=M.response)==null?void 0:he.status)??200,body:ie?JSON.parse(ie):void 0}),(D=m==null?void 0:m.abort)==null||D.call(m),o();break}case"error":{const{message:ie}=M.error;throw Object.assign(new Error(ie),{cause:M.error})}default:this.uppy.log(`Companion socket unknown action ${re}`,"warning")}}catch(re){E(re)}});const me=()=>{this.uppy.log(`Closing socket ${e.id}`),clearTimeout(x),u&&u.close(),u=void 0};m.signal.addEventListener("abort",()=>{me()})}),{retries:Br,signal:m.signal,onFailedAttempt:()=>{m.signal.aborted||this.uppy.log(`Retrying websocket ${e.id}`)}})})().abortOn(m.signal)}catch(H){if(m.signal.aborted)return;E(H)}},P=E=>{a.resumableUploads&&(y=E,u&&g())},S=E=>{var A;a.individualCancellation&&E.id===e.id&&(j("cancel"),(A=m==null?void 0:m.abort)==null||A.call(m),this.uppy.log(`upload ${e.id} was removed`),o())},N=()=>{var E;j("cancel"),(E=m==null?void 0:m.abort)==null||E.call(m),this.uppy.log(`upload ${e.id} was canceled`),o()},I=(E,A)=>{(E==null?void 0:E.id)===e.id&&P(A)},B=()=>P(!0),R=()=>P(!1);this.uppy.on("file-removed",S),this.uppy.on("cancel-all",N),this.uppy.on("upload-pause",I),this.uppy.on("pause-all",B),this.uppy.on("resume-all",R),n=()=>{this.uppy.off("file-removed",S),this.uppy.off("cancel-all",N),this.uppy.off("upload-pause",I),this.uppy.off("pause-all",B),this.uppy.off("resume-all",R)},r.addEventListener("abort",()=>{m==null||m.abort()}),b()})}finally{n==null||n()}},U(on,"VERSION",yc.version);const Cc="@uppy/aws-s3",Ec="Upload to Amazon S3 with Uppy",Pc="5.0.2",Fc="MIT",Uc="module",Rc=!1,kc={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},Ac=["file uploader","aws s3","amazon s3","s3","uppy","uppy-plugin","multipart"],$c="https://uppy.io",Ic={url:"https://github.com/transloadit/uppy/issues"},Oc={type:"git",url:"git+https://github.com/transloadit/uppy.git"},Mc=["src","lib","dist","CHANGELOG.md"],_c={".":"./lib/index.js","./package.json":"./package.json"},Lc={"@uppy/companion-client":"^5.1.1","@uppy/utils":"^7.1.1"},zc={"@aws-sdk/client-s3":"^3.362.0","@aws-sdk/s3-request-presigner":"^3.362.0","@uppy/core":"^5.1.1",jsdom:"^26.1.0",nock:"^13.1.0",typescript:"^5.8.3",vitest:"^3.2.4","whatwg-fetch":"3.6.2"},Bc={"@uppy/core":"^5.1.1"},qc={name:Cc,description:Ec,version:Pc,license:Fc,type:Uc,sideEffects:Rc,scripts:kc,keywords:Ac,homepage:$c,bugs:Ic,repository:Oc,files:Mc,exports:_c,dependencies:Lc,devDependencies:zc,peerDependencies:Bc};function Dc({method:i="PUT",CanonicalUri:e="/",CanonicalQueryString:t="",SignedHeaders:r,HashedPayload:n}){const a=Object.keys(r).map(o=>o.toLowerCase()).sort();return[i,e,t,...a.map(o=>`${o}:${r[o]}`),"",a.join(";"),n].join(`
`)}const yr=new TextEncoder,vr={name:"HMAC",hash:"SHA-256"};async function Hc(i){const{subtle:e}=globalThis.crypto;return e.digest(vr.hash,yr.encode(i))}async function Vc(i){const{subtle:e}=globalThis.crypto;return e.importKey("raw",typeof i=="string"?yr.encode(i):i,vr,!1,["sign"])}function qr(i){const e=new Uint8Array(i);let t="";for(let r=0;r<e.length;r++)t+=e[r].toString(16).padStart(2,"0");return t}async function Bt(i,e){const{subtle:t}=globalThis.crypto;return t.sign(vr,await Vc(i),yr.encode(e))}async function Wc({accountKey:i,accountSecret:e,sessionToken:t,bucketName:r,Key:n,Region:a,expires:o,uploadId:l,partNumber:c}){const h="s3",u=`${h}.${a}.amazonaws.com`,m=`/${r}/${encodeURI(n).replace(/[;?:@&=+$,#!'()*]/g,H=>`%${H.charCodeAt(0).toString(16).toUpperCase()}`)}`,x="UNSIGNED-PAYLOAD",y=new Date().toISOString().replace(/[-:]|\.\d+/g,""),j=y.slice(0,8),g=`${j}/${a}/${h}/aws4_request`,b=new URL(`https://${u}${m}`);b.searchParams.set("X-Amz-Algorithm","AWS4-HMAC-SHA256"),b.searchParams.set("X-Amz-Content-Sha256",x),b.searchParams.set("X-Amz-Credential",`${i}/${g}`),b.searchParams.set("X-Amz-Date",y),b.searchParams.set("X-Amz-Expires",o),b.searchParams.set("X-Amz-Security-Token",t),b.searchParams.set("X-Amz-SignedHeaders","host"),c&&b.searchParams.set("partNumber",c),l&&b.searchParams.set("uploadId",l),b.searchParams.set("x-id",c&&l?"UploadPart":"PutObject");const P=Dc({CanonicalUri:m,CanonicalQueryString:b.search.slice(1),SignedHeaders:{host:u},HashedPayload:x}),S=qr(await Hc(P)),N=["AWS4-HMAC-SHA256",y,g,S].join(`
`),I=await Bt(`AWS4${e}`,j),B=await Bt(I,a),R=await Bt(B,h),E=await Bt(R,"aws4_request"),A=qr(await Bt(E,N));return b.searchParams.set("X-Amz-Signature",A),b}const Gc=1024*1024,Dr={getChunkSize(i){return Math.ceil(i.size/1e4)},onProgress(){},onPartComplete(){},onSuccess(){},onError(i){throw i}};function Kc(i){if(typeof i=="string")return parseInt(i,10);if(typeof i=="number")return i;throw new TypeError("Expected a number")}const Ss=Symbol("pausing upload, not an actual error");var Te,ye,$e,Be,qe,Qt,Jt,Tt,lt,Ct,Zt,Et,es,Ue,an,ln,ur,ts,ss,cn;class Yc{constructor(e,t){v(this,Ue);U(this,"options");v(this,Te,new qs);v(this,ye,[]);v(this,$e,[]);v(this,Be);v(this,qe);v(this,Qt,!1);v(this,Jt);v(this,Tt);v(this,lt);v(this,Ct);v(this,Zt,e=>(e==null?void 0:e.cause)===Ss?null:d(this,Jt).call(this,e));v(this,Et,1e4);v(this,es,5*Gc);v(this,ts,e=>t=>{if(!t.lengthComputable)return;d(this,$e)[e].uploaded=Kc(t.loaded);const r=d(this,$e).reduce((n,a)=>n+a.uploaded,0);this.options.onProgress(r,d(this,Be).size)});v(this,ss,e=>t=>{d(this,ye)[e]=null,d(this,$e)[e].etag=t,d(this,$e)[e].done=!0;const r={PartNumber:e+1,ETag:t};this.options.onPartComplete(r)});var r;this.options={...Dr,...t},(r=this.options).getChunkSize??(r.getChunkSize=Dr.getChunkSize),C(this,Be,e),C(this,qe,t.file),C(this,Tt,this.options.onSuccess),C(this,Jt,this.options.onError),C(this,lt,this.options.shouldUseMultipart),C(this,Ct,t.uploadId&&t.key),w(this,Ue,an).call(this)}start(){d(this,Qt)?(d(this,Te).signal.aborted||d(this,Te).abort(Ss),C(this,Te,new qs),w(this,Ue,ur).call(this)):d(this,Ct)?(this.options.companionComm.restoreUploadFile(d(this,qe),{uploadId:this.options.uploadId,key:this.options.key}),w(this,Ue,ur).call(this)):w(this,Ue,ln).call(this)}pause(){d(this,Te).abort(Ss),C(this,Te,new qs)}abort(e){e!=null&&e.really?w(this,Ue,cn).call(this):this.pause()}[Symbol.for("uppy test: getChunkState")](){return d(this,$e)}}Te=new WeakMap,ye=new WeakMap,$e=new WeakMap,Be=new WeakMap,qe=new WeakMap,Qt=new WeakMap,Jt=new WeakMap,Tt=new WeakMap,lt=new WeakMap,Ct=new WeakMap,Zt=new WeakMap,Et=new WeakMap,es=new WeakMap,Ue=new WeakSet,an=function(){const e=d(this,Be).size,t=typeof d(this,lt)=="function"?d(this,lt).call(this,d(this,qe)):!!d(this,lt);if(t&&e>d(this,es)){let r=Math.max(this.options.getChunkSize(d(this,Be)),d(this,es)),n=Math.floor(e/r);n>d(this,Et)&&(n=d(this,Et),r=e/d(this,Et)),C(this,ye,Array(n));for(let a=0,o=0;a<e;a+=r,o++){const l=Math.min(e,a+r),c=()=>{const h=a;return d(this,Be).slice(h,l)};if(d(this,ye)[o]={getData:c,onProgress:d(this,ts).call(this,o),onComplete:d(this,ss).call(this,o),shouldUseMultipart:t},d(this,Ct)){const h=a+r>e?e-a:r;d(this,ye)[o].setAsUploaded=()=>{d(this,ye)[o]=null,d(this,$e)[o].uploaded=h}}}}else C(this,ye,[{getData:()=>d(this,Be),onProgress:d(this,ts).call(this,0),onComplete:d(this,ss).call(this,0),shouldUseMultipart:t}]);C(this,$e,d(this,ye).map(()=>({uploaded:0})))},ln=function(){this.options.companionComm.uploadFile(d(this,qe),d(this,ye),d(this,Te).signal).then(d(this,Tt),d(this,Zt)),C(this,Qt,!0)},ur=function(){this.options.companionComm.resumeUploadFile(d(this,qe),d(this,ye),d(this,Te).signal).then(d(this,Tt),d(this,Zt))},ts=new WeakMap,ss=new WeakMap,cn=function(){d(this,Te).abort(),this.options.companionComm.abortFileUpload(d(this,qe)).catch(e=>this.options.log(e))};function le(i){if(i!=null&&i.aborted)throw _i("The operation was aborted",{cause:i.reason})}function Xc(i){const e=new URL(i);return e.search="",e.hash="",e.href}var rs,Ce,is,ns,os,as,Pt,Ft,Ut,Rt,ct,kt,Ee,pt,dn,pr;class Qc{constructor(e,t,r,n){v(this,pt);v(this,rs);v(this,Ce,new WeakMap);v(this,is);v(this,ns);v(this,os);v(this,as);v(this,Pt);v(this,Ft);v(this,Ut);v(this,Rt);v(this,ct);v(this,kt);v(this,Ee);C(this,Ft,e),C(this,ct,r),C(this,Ee,n),this.setOptions(t)}setOptions(e){const t=d(this,Ft);"abortMultipartUpload"in e&&C(this,rs,t.wrapPromiseFunction(e.abortMultipartUpload,{priority:1})),"createMultipartUpload"in e&&C(this,is,t.wrapPromiseFunction(e.createMultipartUpload,{priority:-1})),"signPart"in e&&C(this,ns,t.wrapPromiseFunction(e.signPart)),"listParts"in e&&C(this,as,t.wrapPromiseFunction(e.listParts)),"completeMultipartUpload"in e&&C(this,Rt,t.wrapPromiseFunction(e.completeMultipartUpload,{priority:1})),"retryDelays"in e&&C(this,Ut,e.retryDelays??[]),"uploadPartBytes"in e&&C(this,kt,t.wrapPromiseFunction(e.uploadPartBytes,{priority:1/0})),"getUploadParameters"in e&&C(this,os,t.wrapPromiseFunction(e.getUploadParameters))}async getUploadId(e,t){let r;for(;;){if(e.data==null)throw new Error("File data is empty");if(r=d(this,Ce).get(e.data),r==null)break;try{return await r}catch{}}const n=d(this,is).call(this,d(this,Ee).call(this,e),t),a=()=>{if(e.data==null)throw new Error("File data is empty");n.abort(t.reason),d(this,Ce).delete(e.data)};return t.addEventListener("abort",a,{once:!0}),d(this,Ce).set(e.data,n),n.then(async o=>{if(t.removeEventListener("abort",a),d(this,ct).call(this,e,o),e.data==null)throw new Error("File data is empty");d(this,Ce).set(e.data,o)},()=>{if(t.removeEventListener("abort",a),e.data==null)throw new Error("File data is empty");d(this,Ce).delete(e.data)}),n}async abortFileUpload(e){if(e.data==null)throw new Error("File data is empty");const t=d(this,Ce).get(e.data);if(t==null)return;d(this,Ce).delete(e.data),d(this,ct).call(this,e,Object.create(null));let r;try{r=await t}catch{return}await d(this,rs).call(this,d(this,Ee).call(this,e),r)}async uploadFile(e,t,r){if(le(r),t.length===1&&!t[0].shouldUseMultipart)return w(this,pt,pr).call(this,e,t[0],r);const{uploadId:n,key:a}=await this.getUploadId(e,r);le(r);try{const o=await Promise.all(t.map((l,c)=>this.uploadChunk(e,c+1,l,r)));return le(r),await d(this,Rt).call(this,d(this,Ee).call(this,e),{key:a,uploadId:n,parts:o,signal:r},r).abortOn(r)}catch(o){throw(o==null?void 0:o.cause)!==Ss&&(o==null?void 0:o.name)!=="AbortError"&&this.abortFileUpload(e),o}}restoreUploadFile(e,t){if(e.data==null)throw new Error("File data is empty");d(this,Ce).set(e.data,t)}async resumeUploadFile(e,t,r){if(le(r),t.length===1&&t[0]!=null&&!t[0].shouldUseMultipart)return w(this,pt,pr).call(this,e,t[0],r);const{uploadId:n,key:a}=await this.getUploadId(e,r);le(r);const o=await d(this,as).call(this,d(this,Ee).call(this,e),{uploadId:n,key:a,signal:r},r).abortOn(r);le(r);const l=await Promise.all(t.map((c,h)=>{var x;const u=h+1,m=o.find(({PartNumber:y})=>y===u);return m==null?this.uploadChunk(e,u,c,r):((x=c==null?void 0:c.setAsUploaded)==null||x.call(c),{PartNumber:u,ETag:m.ETag})}));return le(r),d(this,Rt).call(this,d(this,Ee).call(this,e),{key:a,uploadId:n,parts:l,signal:r},r).abortOn(r)}async uploadChunk(e,t,r,n){le(n);const{uploadId:a,key:o}=await this.getUploadId(e,n),l=d(this,Ut).values(),c=d(this,Ut).values(),h=()=>{const u=l.next();return u==null||u.done?null:u.value};for(;;){le(n);const u=r.getData(),{onProgress:m,onComplete:x}=r;let y;try{y=await d(this,ns).call(this,d(this,Ee).call(this,e),{uploadId:a,key:o,partNumber:t,body:u,signal:n}).abortOn(n)}catch(j){const g=h();if(g==null||n.aborted)throw j;await new Promise(b=>setTimeout(b,g));continue}le(n);try{return{PartNumber:t,...await d(this,kt).call(this,{signature:y,body:u,size:u.size,onProgress:m,onComplete:x,signal:n}).abortOn(n)}}catch(j){if(!await w(this,pt,dn).call(this,j,c))throw j}}}}rs=new WeakMap,Ce=new WeakMap,is=new WeakMap,ns=new WeakMap,os=new WeakMap,as=new WeakMap,Pt=new WeakMap,Ft=new WeakMap,Ut=new WeakMap,Rt=new WeakMap,ct=new WeakMap,kt=new WeakMap,Ee=new WeakMap,pt=new WeakSet,dn=async function(e,t){var a;const r=d(this,Ft),n=(a=e==null?void 0:e.source)==null?void 0:a.status;if(n==null)return!1;if(n===403&&e.message==="Request has expired"){if(!r.isPaused){if(r.limit===1||d(this,Pt)==null){const o=t.next();if(o==null||o.done)return!1;C(this,Pt,o.value)}r.rateLimit(0),await new Promise(o=>setTimeout(o,d(this,Pt)))}}else if(n===429){if(!r.isPaused){const o=t.next();if(o==null||o.done)return!1;r.rateLimit(o.value)}}else{if(n>400&&n<500&&n!==409)return!1;if(typeof navigator<"u"&&navigator.onLine===!1)r.isPaused||(r.pause(),window.addEventListener("online",()=>{r.resume()},{once:!0}));else{const o=t.next();if(o==null||o.done)return!1;await new Promise(l=>setTimeout(l,o.value))}}return!0},pr=async function(e,t,r){const{method:n="POST",url:a,fields:o,headers:l}=await d(this,os).call(this,d(this,Ee).call(this,e),{signal:r}).abortOn(r);let c;const h=t.getData();if(n.toUpperCase()==="POST"){const j=new FormData;Object.entries(o).forEach(([g,b])=>j.set(g,b)),j.set("file",h),c=j}else c=h;const{onProgress:u,onComplete:m}=t,x=await d(this,kt).call(this,{signature:{url:a,headers:l,method:n},body:c,size:h.size,onProgress:u,onComplete:m,signal:r}).abortOn(r),y=o==null?void 0:o.key;return d(this,ct).call(this,e,{key:y}),{...x,location:x.location??Xc(a),bucket:o==null?void 0:o.bucket,key:y}};function yt(i){if(i!=null&&i.error){const e=new Error(i.message);throw Object.assign(e,i.error),e}return i}function Hr(i){const e=i.Expiration;if(e){const t=Math.floor((new Date(e)-Date.now())/1e3);if(t>9)return t}}function Vr({meta:i,allowedMetaFields:e,querify:t=!1}){const r=e??Object.keys(i);return i?Object.fromEntries(r.filter(n=>i[n]!=null).map(n=>{const a=t?`metadata[${n}]`:n,o=String(i[n]);return[a,o]})):{}}const Jc={allowedMetaFields:!0,limit:6,getTemporarySecurityCredentials:!1,shouldUseMultipart:i=>(i.size||0)>100*1024*1024,retryDelays:[0,1e3,3e3,5e3]};var At,ue,ee,mr,Ve,Pe,un,Us,$t,pn,hn,ls,It,dt,cs;const Rs=class Rs extends Go{constructor(t,r){super(t,{...Jc,uploadPartBytes:Rs.uploadPartBytes,createMultipartUpload:null,listParts:null,abortMultipartUpload:null,completeMultipartUpload:null,signPart:null,getUploadParameters:null,...r});v(this,ee);v(this,At);v(this,ue);U(this,"requests");U(this,"uploaderEvents");U(this,"uploaders");v(this,Pe);v(this,Us,(t,{key:r,uploadId:n})=>{const a=this.uppy.getFile(t.id);a!=null&&this.uppy.setFileState(t.id,{s3Multipart:{...a.s3Multipart,key:r,uploadId:n}})});v(this,$t,t=>this.uppy.getFile(t.id)||t);v(this,ls,async t=>{if(t.length===0)return;const r=this.uppy.getFilesByIds(t),n=Io(r),a=Oo(n);this.uppy.emit("upload-start",a);const o=n.map(c=>{if(c.isRemote){const h=()=>this.requests;d(this,dt).call(this,!1);const u=new AbortController,m=y=>{y.id===c.id&&u.abort()};this.uppy.on("file-removed",m);const x=this.uppy.getRequestClientForFile(c).uploadRemoteFile(c,w(this,ee,hn).call(this,c),{signal:u.signal,getQueue:h});return this.requests.wrapSyncFunction(()=>{this.uppy.off("file-removed",m)},{priority:-1})(),x}return w(this,ee,pn).call(this,c)}),l=await Promise.allSettled(o);return d(this,dt).call(this,!0),l});v(this,It,()=>{var t;(t=d(this,ue))==null||t.setCompanionHeaders(this.opts.headers)});v(this,dt,t=>{const{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,resumableUploads:t}})});v(this,cs,()=>{d(this,dt).call(this,!0)});this.type="uploader",this.id=this.opts.id||"AwsS3Multipart",w(this,ee,mr).call(this,r);const n={createMultipartUpload:this.createMultipartUpload,listParts:this.listParts,abortMultipartUpload:this.abortMultipartUpload,completeMultipartUpload:this.completeMultipartUpload,signPart:r!=null&&r.getTemporarySecurityCredentials?this.createSignedURL:this.signPart,getUploadParameters:r!=null&&r.getTemporarySecurityCredentials?this.createSignedURL:this.getUploadParameters};for(const a of Object.keys(n))this.opts[a]==null&&(this.opts[a]=n[a].bind(this));this.requests=this.opts.rateLimitedQueue??new Do(this.opts.limit),C(this,At,new Qc(this.requests,this.opts,d(this,Us),d(this,$t))),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null)}[Symbol.for("uppy test: getClient")](){return d(this,ue)}setOptions(t){d(this,At).setOptions(t),super.setOptions(t),w(this,ee,mr).call(this,t)}resetUploaderReferences(t,r){this.uploaders[t]&&(this.uploaders[t].abort({really:(r==null?void 0:r.abort)||!1}),this.uploaders[t]=null),this.uploaderEvents[t]&&(this.uploaderEvents[t].remove(),this.uploaderEvents[t]=null)}createMultipartUpload(t,r){w(this,ee,Ve).call(this,"createMultipartUpload"),le(r);const n=Ur(this.opts.allowedMetaFields,t.meta),a=Vr({meta:t.meta,allowedMetaFields:n});return d(this,ue).post("s3/multipart",{filename:t.name,type:t.type,metadata:a},{signal:r}).then(yt)}listParts(t,{key:r,uploadId:n,signal:a},o){a??(a=o),w(this,ee,Ve).call(this,"listParts"),le(a);const l=encodeURIComponent(r);return d(this,ue).get(`s3/multipart/${encodeURIComponent(n)}?key=${l}`,{signal:a}).then(yt)}completeMultipartUpload(t,{key:r,uploadId:n,parts:a,signal:o},l){o??(o=l),w(this,ee,Ve).call(this,"completeMultipartUpload"),le(o);const c=encodeURIComponent(r),h=encodeURIComponent(n);return d(this,ue).post(`s3/multipart/${h}/complete?key=${c}`,{parts:a.map(({ETag:u,PartNumber:m})=>({ETag:u,PartNumber:m}))},{signal:o}).then(yt)}async createSignedURL(t,r){const n=await w(this,ee,un).call(this,r),a=Hr(n.credentials)||604800,{uploadId:o,key:l,partNumber:c}=r;return{method:"PUT",expires:a,fields:{},url:`${await Wc({accountKey:n.credentials.AccessKeyId,accountSecret:n.credentials.SecretAccessKey,sessionToken:n.credentials.SessionToken,expires:a,bucketName:n.bucket,Region:n.region,Key:l??`${crypto.randomUUID()}-${t.name}`,uploadId:o,partNumber:c})}`,headers:{"Content-Type":t.type}}}signPart(t,{uploadId:r,key:n,partNumber:a,signal:o}){if(w(this,ee,Ve).call(this,"signPart"),le(o),r==null||n==null||a==null)throw new Error("Cannot sign without a key, an uploadId, and a partNumber");const l=encodeURIComponent(n);return d(this,ue).get(`s3/multipart/${encodeURIComponent(r)}/${a}?key=${l}`,{signal:o}).then(yt)}abortMultipartUpload(t,{key:r,uploadId:n,signal:a}){w(this,ee,Ve).call(this,"abortMultipartUpload");const o=encodeURIComponent(r),l=encodeURIComponent(n);return d(this,ue).delete(`s3/multipart/${l}?key=${o}`,void 0,{signal:a}).then(yt)}getUploadParameters(t,r){w(this,ee,Ve).call(this,"getUploadParameters");const{meta:n}=t,{type:a,name:o}=n,l=Ur(this.opts.allowedMetaFields,t.meta),c=Vr({meta:n,allowedMetaFields:l,querify:!0}),h=new URLSearchParams({filename:o,type:a,...c});return d(this,ue).get(`s3/params?${h}`,r)}static async uploadPartBytes({signature:{url:t,expires:r,headers:n,method:a="PUT"},body:o,size:l=o.size,onProgress:c,onComplete:h,signal:u}){if(le(u),t==null)throw new Error("Cannot upload to an undefined URL");return new Promise((m,x)=>{const y=new XMLHttpRequest;y.open(a,t,!0),n&&Object.keys(n).forEach(b=>{y.setRequestHeader(b,n[b])}),y.responseType="text",typeof r=="number"&&(y.timeout=r*1e3);function j(){y.abort()}function g(){u==null||u.removeEventListener("abort",j)}u==null||u.addEventListener("abort",j),y.upload.addEventListener("progress",b=>{c(b)}),y.addEventListener("abort",()=>{g(),x(_i())}),y.addEventListener("timeout",()=>{g();const b=new Error("Request has expired");b.source={status:403},x(b)}),y.addEventListener("load",()=>{if(g(),y.status===403&&y.responseText.includes("<Message>Request has expired</Message>")){const I=new Error("Request has expired");I.source=y,x(I);return}if(y.status<200||y.status>=300){const I=new Error("Non 2xx");I.source=y,x(I);return}c==null||c({loaded:l,lengthComputable:!0});const b=y.getAllResponseHeaders().trim().split(/[\r\n]+/),P={__proto__:null};for(const I of b){const B=I.split(": "),R=B.shift(),E=B.join(": ");P[R]=E}const{etag:S,location:N}=P;if(a.toUpperCase()==="POST"&&N==null&&console.error("@uppy/aws-s3: Could not read the Location header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket"),S==null){console.error("@uppy/aws-s3: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket");return}h==null||h(S),m({...P,ETag:S})}),y.addEventListener("error",b=>{g();const P=new Error("Unknown error");P.source=b.target,x(P)}),y.send(o)})}install(){d(this,dt).call(this,!0),this.uppy.addPreProcessor(d(this,It)),this.uppy.addUploader(d(this,ls)),this.uppy.on("cancel-all",d(this,cs))}uninstall(){this.uppy.removePreProcessor(d(this,It)),this.uppy.removeUploader(d(this,ls)),this.uppy.off("cancel-all",d(this,cs))}};At=new WeakMap,ue=new WeakMap,ee=new WeakSet,mr=function(t){t==null||!("endpoint"in t||"companionUrl"in t||"headers"in t||"companionHeaders"in t||"cookiesRule"in t||"companionCookiesRule"in t)||("companionUrl"in t&&!("endpoint"in t)&&this.uppy.log("`companionUrl` option has been removed in @uppy/aws-s3, use `endpoint` instead.","warning"),"companionHeaders"in t&&!("headers"in t)&&this.uppy.log("`companionHeaders` option has been removed in @uppy/aws-s3, use `headers` instead.","warning"),"companionCookiesRule"in t&&!("cookiesRule"in t)&&this.uppy.log("`companionCookiesRule` option has been removed in @uppy/aws-s3, use `cookiesRule` instead.","warning"),"endpoint"in t?C(this,ue,new on(this.uppy,{pluginId:this.id,provider:"AWS",companionUrl:this.opts.endpoint,companionHeaders:this.opts.headers,companionCookiesRule:this.opts.cookiesRule})):("headers"in t&&d(this,It).call(this),"cookiesRule"in t&&(d(this,ue).opts.companionCookiesRule=t.cookiesRule)))},Ve=function(t){if(!d(this,ue))throw new Error(`Expected a \`endpoint\` option containing a URL, or if you are not using Companion, a custom \`${t}\` implementation.`)},Pe=new WeakMap,un=async function(t){if(le(t==null?void 0:t.signal),d(this,Pe)==null){const{getTemporarySecurityCredentials:r}=this.opts;r===!0?(w(this,ee,Ve).call(this,"getTemporarySecurityCredentials"),C(this,Pe,d(this,ue).get("s3/sts",t).then(yt))):C(this,Pe,r(t)),C(this,Pe,await d(this,Pe)),setTimeout(()=>{C(this,Pe,null)},(Hr(d(this,Pe).credentials)||0)*500)}return d(this,Pe)},Us=new WeakMap,$t=new WeakMap,pn=function(t){return new Promise((r,n)=>{const a=(u,m)=>{const x=this.uppy.getFile(t.id);this.uppy.emit("upload-progress",x,{uploadStarted:x.progress.uploadStarted??0,bytesUploaded:u,bytesTotal:m})},o=u=>{this.uppy.log(u),this.uppy.emit("upload-error",t,u),this.resetUploaderReferences(t.id),n(u)},l=u=>{const m={body:{...u},status:200,uploadURL:u.location};this.resetUploaderReferences(t.id),this.uppy.emit("upload-success",d(this,$t).call(this,t),m),u.location&&this.uppy.log(`Download ${t.name} from ${u.location}`),r(void 0)};if(t.data==null)throw new Error("File data is empty");const c=new Yc(t.data,{companionComm:d(this,At),log:(...u)=>this.uppy.log(...u),getChunkSize:this.opts.getChunkSize?this.opts.getChunkSize.bind(this):void 0,onProgress:a,onError:o,onSuccess:l,onPartComplete:u=>{this.uppy.emit("s3-multipart:part-uploaded",d(this,$t).call(this,t),u)},file:t,shouldUseMultipart:this.opts.shouldUseMultipart,...t.s3Multipart});this.uploaders[t.id]=c;const h=new Ko(this.uppy);this.uploaderEvents[t.id]=h,h.onFileRemove(t.id,u=>{c.abort(),this.resetUploaderReferences(t.id,{abort:!0}),r(`upload ${u} was removed`)}),h.onCancelAll(t.id,()=>{c.abort(),this.resetUploaderReferences(t.id,{abort:!0}),r(`upload ${t.id} was canceled`)}),h.onFilePause(t.id,u=>{u?c.pause():c.start()}),h.onPauseAll(t.id,()=>{c.pause()}),h.onResumeAll(t.id,()=>{c.start()}),c.start()})},hn=function(t){var r;return{..."remote"in t&&((r=t.remote)==null?void 0:r.body),protocol:"s3-multipart",size:t.data.size,metadata:t.meta}},ls=new WeakMap,It=new WeakMap,dt=new WeakMap,cs=new WeakMap,U(Rs,"VERSION",qc.version);let hr=Rs;function bs({maxNumberOfFiles:i=1,maxFileSize:e=524288e3,onGetUploadParameters:t,onComplete:r,buttonClassName:n,children:a}){const[o]=f.useState(()=>new er({restrictions:{maxNumberOfFiles:i,maxFileSize:e},autoProceed:!1}).use(hr,{shouldUseMultipart:!1,getUploadParameters:t}).on("complete",c=>{r==null||r(c)}));f.useEffect(()=>{An(()=>import("./index-BL_rrXJa.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25])).then(c=>{const h=c.default;o.getPlugin("Dashboard")||o.use(h,{inline:!1,proudlyDisplayPoweredByUppy:!1})})},[o]);const l=async()=>{const c=o.getPlugin("Dashboard");c&&c.openModal()};return s.jsx(xe,{type:"button",onClick:l,className:n,"data-testid":"button-upload",children:a})}const Zc=k.object({platform:k.enum(["instagram","tiktok","youtube","twitter","linkedin"]),followers:k.coerce.number().int().min(0).default(0),likes:k.coerce.number().int().min(0).default(0),comments:k.coerce.number().int().min(0).default(0),shares:k.coerce.number().int().min(0).default(0),engagementRate:k.preprocess(i=>i===""||i===null||i===void 0?void 0:i,k.coerce.number().int().min(0).optional())}),ed=k.object({title:k.string().min(1,"Title is required"),slug:k.string().min(1,"Slug is required"),description:k.string().optional(),episodeNumber:k.coerce.number().int().min(1),season:k.coerce.number().int().min(1).default(1),topic:k.string().optional(),videoUrl:k.string().optional(),thumbnailUrl:k.string().optional(),duration:k.string().optional(),published:k.boolean().default(!1)}),td=k.object({title:k.string().min(1,"Title is required"),topic:k.string().min(1,"Topic is required"),description:k.string().optional(),fileUrl:k.string().min(1,"File is required"),fileSize:k.coerce.number().optional(),published:k.boolean().default(!0)}),sd=k.object({title:k.string().min(1,"Title is required"),content:k.string().min(50,"Content must be at least 50 characters"),excerpt:k.string().optional(),category:k.string().optional(),tags:k.array(k.string()).optional()}),rd={instagram:Yr,tiktok:Qr,youtube:Xr,twitter:Jr,linkedin:Zr},id={instagram:"text-primary",tiktok:"text-primary",youtube:"text-accent",twitter:"text-accent",linkedin:"text-accent"};function nd(){var ft,gt;const{user:i,castMember:e,logout:t,isAuthenticated:r,isLoading:n}=$n(),[,a]=In(),{toast:o}=On(),[l,c]=f.useState(!1),[h,u]=f.useState(!1),[m,x]=f.useState(null),[y,j]=f.useState(""),[g,b]=f.useState(""),[P,S]=f.useState(!1),[N,I]=f.useState(""),[B,R]=f.useState(0),[E,A]=f.useState(!1),[H,pe]=f.useState(""),{data:O,isLoading:me}=ps({queryKey:["/api/analytics/latest"],enabled:r}),V=ms({resolver:gs(Zc),defaultValues:{platform:"instagram",followers:0,likes:0,comments:0,shares:0}}),ae=Lt({mutationFn:async p=>await xt("POST","/api/analytics",p),onSuccess:()=>{He.invalidateQueries({queryKey:["/api/analytics/latest"]}),He.invalidateQueries({queryKey:["/api/analytics"]}),o({title:"Analytics Added",description:"Your social media metrics have been recorded."}),c(!1),V.reset()},onError:p=>{o({title:"Error",description:p.message||"Failed to add analytics entry.",variant:"destructive"})}}),he=p=>{const $={platform:p.platform,followers:Number(p.followers),likes:Number(p.likes),comments:Number(p.comments),shares:Number(p.shares),engagementRate:p.engagementRate!==void 0?Number(p.engagementRate):void 0};ae.mutate($)},{data:D,isLoading:re}=ps({queryKey:["/api/episodes/manage"],enabled:r}),M=ms({resolver:gs(ed),defaultValues:{title:"",slug:"",description:"",episodeNumber:1,season:1,topic:"",videoUrl:"",thumbnailUrl:"",duration:"",published:!1}}),ie=Lt({mutationFn:async p=>await xt("POST","/api/episodes",{...p,videoUrl:y||void 0,thumbnailUrl:g||void 0}),onSuccess:()=>{He.invalidateQueries({queryKey:["/api/episodes/manage"]}),He.invalidateQueries({queryKey:["/api/episodes"]}),o({title:"Episode Created",description:"Your episode has been created successfully."}),u(!1),j(""),b(""),M.reset()},onError:p=>{o({title:"Error",description:p.message||"Failed to create episode.",variant:"destructive"})}});Lt({mutationFn:async({id:p,data:$})=>await xt("PUT",`/api/episodes/${p}`,$),onSuccess:()=>{He.invalidateQueries({queryKey:["/api/episodes/manage"]}),o({title:"Episode Updated",description:"Your episode has been updated successfully."}),u(!1),x(null)},onError:p=>{o({title:"Error",description:p.message||"Failed to update episode.",variant:"destructive"})}});const ht=async()=>({method:"PUT",url:(await xt("POST","/api/objects/upload",{})).uploadURL}),mt=p=>{ie.mutate(p)},{data:Je,isLoading:_t}=ps({queryKey:["/api/dossiers"],enabled:r}),fe=ms({resolver:gs(td),defaultValues:{title:"",topic:"",description:"",fileUrl:"",published:!0}}),De=Lt({mutationFn:async p=>await xt("POST","/api/dossiers",{...p,fileUrl:N,fileSize:B}),onSuccess:()=>{He.invalidateQueries({queryKey:["/api/dossiers"]}),o({title:"Dossier Uploaded",description:"Your dossier has been uploaded successfully."}),S(!1),I(""),R(0),fe.reset()},onError:p=>{o({title:"Error",description:p.message||"Failed to upload dossier.",variant:"destructive"})}}),Ze=p=>{if(!N){o({title:"Error",description:"Please upload a file first.",variant:"destructive"});return}De.mutate(p)},{data:F,isLoading:q}=ps({queryKey:["/api/cast/blog/posts"],enabled:r}),W=ms({resolver:gs(sd),defaultValues:{title:"",content:"",excerpt:"",category:"",tags:[]}}),_=Lt({mutationFn:async p=>{const{title:$,content:_e,excerpt:mn,category:fn,tags:Os}=p;return await xt("POST","/api/cast/blog/posts",{title:$,content:_e,excerpt:mn||void 0,category:fn||void 0,tags:Os&&Os.length>0?Os:void 0,coverImageUrl:H||void 0})},onSuccess:()=>{He.invalidateQueries({queryKey:["/api/cast/blog/posts"]}),He.invalidateQueries({queryKey:["/api/blog/posts"]}),o({title:"Blog Post Created",description:"Your blog post has been created as a draft."}),A(!1),pe(""),W.reset()},onError:p=>{o({title:"Error",description:p.message||"Failed to create blog post.",variant:"destructive"})}}),L=p=>{_.mutate(p)},z=(i==null?void 0:i.role)==="admin";if(f.useEffect(()=>{!n&&!r&&a("/login")},[r,n,a]),n)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("p",{children:"Loading..."})});if(!r)return null;const Oe=async()=>{await t(),o({title:"Logged out",description:"You've been successfully logged out."}),a("/")},Me=((ft=e==null?void 0:e.name)==null?void 0:ft.split(" ").map(p=>p[0]).join("").toUpperCase())||"CM";return s.jsxs("div",{className:"min-h-screen bg-muted/30",children:[s.jsx("header",{className:"border-b bg-background",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("h1",{className:"font-montserrat font-bold text-2xl text-primary",children:"Teen Summit 2.0"}),s.jsx("span",{className:"text-muted-foreground",children:"|"}),s.jsx("span",{className:"font-semibold",children:"Cast Member Portal"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Vn,{children:[s.jsx(Wn,{src:(e==null?void 0:e.avatarUrl)||void 0}),s.jsx(Gn,{className:"bg-primary text-primary-foreground",children:Me})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-semibold text-sm",children:e==null?void 0:e.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:i==null?void 0:i.email})]})]}),s.jsx(xe,{variant:"ghost",size:"icon",onClick:Oe,"data-testid":"button-logout",children:s.jsx(Kn,{className:"h-5 w-5"})})]})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h2",{className:"font-montserrat font-bold text-3xl mb-2",children:["Welcome back, ",(gt=e==null?void 0:e.name)==null?void 0:gt.split(" ")[0],"!"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your content, schedule, and portfolio"})]}),s.jsxs(Dn,{defaultValue:"overview",className:"space-y-6",children:[s.jsxs(Hn,{className:"grid w-full grid-cols-7 max-w-5xl",children:[s.jsxs(et,{value:"overview","data-testid":"tab-overview",children:[s.jsx(Zn,{className:"h-4 w-4 mr-2"}),"Overview"]}),s.jsxs(et,{value:"episodes","data-testid":"tab-episodes",children:[s.jsx(Mn,{className:"h-4 w-4 mr-2"}),"Episodes"]}),s.jsxs(et,{value:"nil-tracker","data-testid":"tab-nil-tracker",children:[s.jsx(ys,{className:"h-4 w-4 mr-2"}),"Academic Civic NILS"]}),s.jsxs(et,{value:"blog","data-testid":"tab-blog",children:[s.jsx(hs,{className:"h-4 w-4 mr-2"}),"Blog"]}),s.jsxs(et,{value:"dossiers","data-testid":"tab-dossiers",children:[s.jsx(_s,{className:"h-4 w-4 mr-2"}),"Dossiers"]}),s.jsxs(et,{value:"schedule","data-testid":"tab-schedule",children:[s.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Schedule"]}),s.jsxs(et,{value:"profile","data-testid":"tab-profile",children:[s.jsx(zs,{className:"h-4 w-4 mr-2"}),"Profile"]})]}),s.jsxs(tt,{value:"overview",className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(G,{children:[s.jsxs(te,{children:[s.jsx(se,{className:"text-lg",children:"Blog Posts"}),s.jsx(ne,{children:"Your published articles"})]}),s.jsx(K,{children:s.jsx("p",{className:"text-4xl font-bold",children:"0"})})]}),s.jsxs(G,{children:[s.jsxs(te,{children:[s.jsx(se,{className:"text-lg",children:"Episodes"}),s.jsx(ne,{children:"Your appearances"})]}),s.jsx(K,{children:s.jsx("p",{className:"text-4xl font-bold",children:"0"})})]}),s.jsxs(G,{children:[s.jsxs(te,{children:[s.jsx(se,{className:"text-lg",children:"Upcoming"}),s.jsx(ne,{children:"Filming dates"})]}),s.jsx(K,{children:s.jsx("p",{className:"text-4xl font-bold",children:"0"})})]})]}),s.jsxs(G,{children:[s.jsxs(te,{children:[s.jsx(se,{children:"Getting Started"}),s.jsx(ne,{children:"Complete these steps to make the most of your portal"})]}),s.jsxs(K,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(zs,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Complete your profile"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add your bio and social media links"})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(hs,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Write your first blog post"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Share your thoughts with the community"})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Ls,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Check your schedule"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"View upcoming filming dates and events"})]})]})]})]})]}),s.jsxs(tt,{value:"episodes",className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold",children:"Manage Episodes"}),s.jsx("p",{className:"text-muted-foreground",children:"Create and manage video episodes"})]}),s.jsxs(_n,{open:h,onOpenChange:u,children:[s.jsx(Ln,{asChild:!0,children:s.jsxs(xe,{"data-testid":"button-create-episode",children:[s.jsx(Bs,{className:"h-4 w-4 mr-2"}),"Create Episode"]})}),s.jsxs(zn,{className:"max-w-2xl",children:[s.jsx(Bn,{children:s.jsx(qn,{children:"Create New Episode"})}),s.jsx(fs,{...M,children:s.jsxs("form",{onSubmit:M.handleSubmit(mt),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(X,{control:M.control,name:"title",render:({field:p})=>s.jsxs(Q,{children:[s.jsx(Y,{children:"Title"}),s.jsx(J,{children:s.jsx(ge,{placeholder:"Episode title",...p,"data-testid":"input-episode-title"})}),s.jsx(Z,{})]})}),s.jsx(X,{control:M.control,name:"slug",render:({field:p})=>s.jsxs(Q,{children:[s.jsx(Y,{children:"Slug"}),s.jsx(J,{children:s.jsx(ge,{placeholder:"episode-slug",...p,"data-testid":"input-episode-slug"})}),s.jsx(Z,{})]})})]}),s.jsx(X,{control:M.control,name:"description",render:({field:p})=>s.jsxs(Q,{children:[s.jsx(Y,{children:"Description"}),s.jsx(J,{children:s.jsx(xs,{placeholder:"Episode description",...p,"data-testid":"textarea-episode-description"})}),s.jsx(Z,{})]})}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx(X,{control:M.control,name:"episodeNumber",render:({field:p})=>s.jsxs(Q,{children:[s.jsx(Y,{children:"Episode #"}),s.jsx(J,{children:s.jsx(ge,{type:"number",...p,"data-testid":"input-episode-number"})}),s.jsx(Z,{})]})}),s.jsx(X,{control:M.control,name:"season",render:({field:p})=>s.jsxs(Q,{children:[s.jsx(Y,{children:"Season"}),s.jsx(J,{children:s.jsx(ge,{type:"number",...p,"data-testid":"input-season"})}),s.jsx(Z,{})]})}),s.jsx(X,{control:M.control,name:"duration",render:({field:p})=>s.jsxs(Q,{children:[s.jsx(Y,{children:"Duration"}),s.jsx(J,{children:s.jsx(ge,{placeholder:"45:30",...p,"data-testid":"input-duration"})}),s.jsx(Z,{})]})})]}),s.jsx(X,{control:M.control,name:"topic",render:({field:p})=>s.jsxs(Q,{children:[s.jsx(Y,{children:"Topic"}),s.jsx(J,{children:s.jsx(ge,{placeholder:"Main debate topic",...p,"data-testid":"input-topic"})}),s.jsx(Z,{})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Video Upload"}),s.jsxs(bs,{maxNumberOfFiles:1,maxFileSize:524288e3,onGetUploadParameters:ht,onComplete:p=>{p.successful[0]&&j(p.successful[0].uploadURL)},children:[s.jsx(Bs,{className:"h-4 w-4 mr-2"}),y?"Video Uploaded âœ“":"Upload Video"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Thumbnail Upload"}),s.jsxs(bs,{maxNumberOfFiles:1,maxFileSize:10485760,onGetUploadParameters:ht,onComplete:p=>{p.successful[0]&&b(p.successful[0].uploadURL)},children:[s.jsx(Bs,{className:"h-4 w-4 mr-2"}),g?"Thumbnail Uploaded âœ“":"Upload Thumbnail"]})]}),s.jsx(xe,{type:"submit",disabled:ie.isPending,"data-testid":"button-submit-episode",children:ie.isPending?"Creating...":"Create Episode"})]})})]})]})]}),s.jsxs("div",{className:"grid gap-4",children:[re&&s.jsx("p",{children:"Loading episodes..."}),D&&D.length===0&&s.jsx(G,{children:s.jsx(K,{className:"p-6",children:s.jsx("p",{className:"text-muted-foreground",children:"No episodes yet. Create your first episode!"})})}),D&&D.map(p=>s.jsxs(G,{"data-testid":`episode-card-${p.id}`,children:[s.jsx(te,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs(se,{children:["S",p.season,"E",p.episodeNumber,": ",p.title]}),s.jsx(ne,{children:p.topic||p.description||"No description"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs ${p.published?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:p.published?"Published":"Draft"})})]})}),s.jsx(K,{children:s.jsxs("div",{className:"flex gap-4 text-sm text-muted-foreground",children:[p.duration&&s.jsxs("span",{children:["â±ï¸ ",p.duration]}),p.views>0&&s.jsxs("span",{children:["ðŸ‘ï¸ ",p.views," views"]}),p.videoUrl&&s.jsx("span",{children:"ðŸŽ¬ Video"})]})})]},p.id))]})]}),s.jsxs(tt,{value:"nil-tracker",className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold",children:"Academic Civic NILS Tracker"}),s.jsx("p",{className:"text-muted-foreground",children:"Track your social media growth and engagement"})]}),!l&&s.jsxs(xe,{onClick:()=>c(!0),"data-testid":"button-add-analytics",children:[s.jsx(ys,{className:"h-4 w-4 mr-2"}),"Add Analytics"]})]}),l&&s.jsxs(G,{children:[s.jsx(te,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(se,{children:"Add Analytics Entry"}),s.jsx(ne,{children:"Record your current social media metrics"})]}),s.jsx(xe,{variant:"ghost",size:"sm",onClick:()=>c(!1),children:"Cancel"})]})}),s.jsx(K,{children:s.jsx(fs,{...V,children:s.jsxs("form",{onSubmit:V.handleSubmit(he),className:"space-y-4",children:[s.jsx(X,{control:V.control,name:"platform",render:({field:p})=>s.jsxs(Q,{children:[s.jsx(Y,{children:"Platform"}),s.jsxs(Cr,{onValueChange:p.onChange,value:p.value,children:[s.jsx(J,{children:s.jsx(Xs,{"data-testid":"select-platform",children:s.jsx(Er,{placeholder:"Select platform"})})}),s.jsxs(Qs,{children:[s.jsx(be,{value:"instagram",children:"Instagram"}),s.jsx(be,{value:"tiktok",children:"TikTok"}),s.jsx(be,{value:"youtube",children:"YouTube"}),s.jsx(be,{value:"twitter",children:"Twitter"}),s.jsx(be,{value:"linkedin",children:"LinkedIn"})]})]}),s.jsx(Z,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(X,{control:V.control,name:"followers",render:({field:p})=>s.jsxs(Q,{children:[s.jsx(Y,{children:"Followers"}),s.jsx(J,{children:s.jsx(ge,{type:"number","data-testid":"input-followers",...p,onChange:$=>p.onChange(parseInt($.target.value)||0)})}),s.jsx(Z,{})]})}),s.jsx(X,{control:V.control,name:"likes",render:({field:p})=>s.jsxs(Q,{children:[s.jsx(Y,{children:"Likes"}),s.jsx(J,{children:s.jsx(ge,{type:"number","data-testid":"input-likes",...p,onChange:$=>p.onChange(parseInt($.target.value)||0)})}),s.jsx(Z,{})]})}),s.jsx(X,{control:V.control,name:"comments",render:({field:p})=>s.jsxs(Q,{children:[s.jsx(Y,{children:"Comments"}),s.jsx(J,{children:s.jsx(ge,{type:"number","data-testid":"input-comments",...p,onChange:$=>p.onChange(parseInt($.target.value)||0)})}),s.jsx(Z,{})]})}),s.jsx(X,{control:V.control,name:"shares",render:({field:p})=>s.jsxs(Q,{children:[s.jsx(Y,{children:"Shares"}),s.jsx(J,{children:s.jsx(ge,{type:"number","data-testid":"input-shares",...p,onChange:$=>p.onChange(parseInt($.target.value)||0)})}),s.jsx(Z,{})]})})]}),s.jsx(xe,{type:"submit",disabled:ae.isPending,"data-testid":"button-submit-analytics",children:ae.isPending?"Adding...":"Add Analytics"})]})})})]}),me?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading analytics..."})}):O&&Array.isArray(O)&&O.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:O.map(p=>{const $=rd[p.platform],_e=id[p.platform];return s.jsxs(G,{"data-testid":`card-analytics-${p.platform}`,children:[s.jsx(te,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(se,{className:"capitalize",children:p.platform}),s.jsx($,{className:`h-6 w-6 ${_e}`})]})}),s.jsx(K,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Followers:"}),s.jsx("span",{className:"font-semibold","data-testid":`text-followers-${p.platform}`,children:p.followers.toLocaleString()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Likes:"}),s.jsx("span",{className:"font-semibold",children:p.likes.toLocaleString()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Comments:"}),s.jsx("span",{className:"font-semibold",children:p.comments.toLocaleString()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Shares:"}),s.jsx("span",{className:"font-semibold",children:p.shares.toLocaleString()})]})]})})]},p.id)})}):s.jsx(G,{children:s.jsx(K,{className:"py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ys,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"No analytics yet"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Start tracking your social media growth across platforms"})]})})}),s.jsxs("div",{className:"mt-8 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Sr,{className:"h-5 w-5 text-primary"}),s.jsx("h3",{className:"text-xl font-semibold",children:"Grow Your Personal Brand"})]}),(!O||!Array.isArray(O)||O.every(p=>p.followers===0))&&s.jsxs(xe,{onClick:()=>c(!0),variant:"outline",size:"sm","data-testid":"button-start-tracking",children:[s.jsx(ys,{className:"h-4 w-4 mr-2"}),"Start Tracking"]})]}),O&&Array.isArray(O)&&O.some(p=>p.followers>0)&&s.jsx(G,{className:"bg-primary/5 border-primary/20",children:s.jsx(K,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Nr,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium mb-1",children:["You're tracking ",O.filter(p=>p.followers>0).length," platform",O.filter(p=>p.followers>0).length!==1?"s":"","!"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Check out the platform-specific strategies below to maximize your growth on"," ",O.filter(p=>p.followers>0).map(p=>p.platform).slice(0,3).join(", ").replace(/, ([^,]*)$/," and $1")]})]})]})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(G,{children:[s.jsxs(te,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qn,{className:"h-5 w-5 text-accent"}),s.jsx(se,{children:"Content Ideas"})]}),s.jsx(ne,{children:"Fresh ideas for your social media posts"})]}),s.jsx(K,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(de,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Behind-the-Scenes"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Share your Teen Summit filming days, rehearsals, and preparation"})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(de,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Educational Content"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Teach what you learn in debate, musicology, or podcasting"})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(de,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Personal Journey"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Share your growth, challenges overcome, and lessons learned"})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(de,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Community Engagement"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Q&A sessions, polls, and responding to your followers"})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(de,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Collaborations"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Team up with other cast members for joint content"})]})]})]})})]}),s.jsxs(G,{children:[s.jsxs(te,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Nr,{className:"h-5 w-5 text-accent"}),s.jsx(se,{children:"Growth Tips"})]}),s.jsx(ne,{children:"Best practices for building your audience"})]}),s.jsx(K,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(de,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Post Consistently"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a schedule and stick to it - consistency builds trust"})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(de,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Engage Authentically"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Reply to comments, ask questions, and build real connections"})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(de,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Use Hashtags Wisely"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Mix popular and niche tags relevant to your content"})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(de,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Track Your Analytics"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Use this tracker to see what content performs best"})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(de,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Stay Positive & Professional"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Represent Teen Summit values in all your content"})]})]})]})})]})]}),s.jsxs(G,{children:[s.jsxs(te,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_s,{className:"h-5 w-5 text-accent"}),s.jsx(se,{children:"Platform-Specific Strategies"})]}),s.jsx(ne,{children:"Tailor your content for each platform"})]}),s.jsx(K,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(()=>{const p=O&&Array.isArray(O)?O.filter(_e=>_e.followers>0).map(_e=>_e.platform):[],$=_e=>p.includes(_e);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`space-y-2 ${$("instagram")?"ring-2 ring-primary/20 rounded-lg p-4 -m-4":""}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yr,{className:"h-5 w-5 text-primary"}),s.jsx("h4",{className:"font-semibold",children:"Instagram"}),$("instagram")&&s.jsx(de,{className:"h-4 w-4 text-primary ml-auto"})]}),s.jsxs("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsx("li",{children:"â€¢ High-quality photos and short videos"}),s.jsx("li",{children:"â€¢ Use Stories for daily updates"}),s.jsx("li",{children:"â€¢ Reels for trending content"}),s.jsx("li",{children:"â€¢ Carousel posts for storytelling"})]})]}),s.jsxs("div",{className:`space-y-2 ${$("tiktok")?"ring-2 ring-primary/20 rounded-lg p-4 -m-4":""}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qr,{className:"h-5 w-5 text-primary"}),s.jsx("h4",{className:"font-semibold",children:"TikTok"}),$("tiktok")&&s.jsx(de,{className:"h-4 w-4 text-primary ml-auto"})]}),s.jsxs("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsx("li",{children:"â€¢ Short, engaging 15-60 sec videos"}),s.jsx("li",{children:"â€¢ Use trending sounds and effects"}),s.jsx("li",{children:"â€¢ Hook viewers in first 3 seconds"}),s.jsx("li",{children:"â€¢ Post 1-3 times daily"})]})]}),s.jsxs("div",{className:`space-y-2 ${$("youtube")?"ring-2 ring-accent/20 rounded-lg p-4 -m-4":""}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xr,{className:"h-5 w-5 text-accent"}),s.jsx("h4",{className:"font-semibold",children:"YouTube"}),$("youtube")&&s.jsx(de,{className:"h-4 w-4 text-accent ml-auto"})]}),s.jsxs("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsx("li",{children:"â€¢ Longer-form content (5-15 min)"}),s.jsx("li",{children:"â€¢ Strong titles and thumbnails"}),s.jsx("li",{children:"â€¢ Organize into playlists"}),s.jsx("li",{children:"â€¢ Shorts for quick highlights"})]})]}),s.jsxs("div",{className:`space-y-2 ${$("twitter")?"ring-2 ring-accent/20 rounded-lg p-4 -m-4":""}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jr,{className:"h-5 w-5 text-accent"}),s.jsx("h4",{className:"font-semibold",children:"Twitter/X"}),$("twitter")&&s.jsx(de,{className:"h-4 w-4 text-accent ml-auto"})]}),s.jsxs("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsx("li",{children:"â€¢ Share thoughts and insights"}),s.jsx("li",{children:"â€¢ Thread longer stories"}),s.jsx("li",{children:"â€¢ Engage in conversations"}),s.jsx("li",{children:"â€¢ Repost relevant content"})]})]}),s.jsxs("div",{className:`space-y-2 ${$("linkedin")?"ring-2 ring-accent/20 rounded-lg p-4 -m-4":""}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zr,{className:"h-5 w-5 text-accent"}),s.jsx("h4",{className:"font-semibold",children:"LinkedIn"}),$("linkedin")&&s.jsx(de,{className:"h-4 w-4 text-accent ml-auto"})]}),s.jsxs("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsx("li",{children:"â€¢ Professional achievements"}),s.jsx("li",{children:"â€¢ Educational milestones"}),s.jsx("li",{children:"â€¢ Industry insights"}),s.jsx("li",{children:"â€¢ Network with mentors"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Sr,{className:"h-5 w-5 text-primary"}),s.jsx("h4",{className:"font-semibold",children:"Pro Tip"})]}),s.jsxs("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsx("li",{children:"â€¢ Repurpose content across platforms"}),s.jsx("li",{children:"â€¢ Cross-promote your accounts"}),s.jsx("li",{children:"â€¢ Tag @TeenSummit when relevant"}),s.jsx("li",{children:"â€¢ Use branded hashtags"})]})]})]})})()})})]})]})]}),s.jsxs(tt,{value:"blog",className:"space-y-6",children:[s.jsxs(G,{children:[s.jsx(te,{children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(se,{children:"Create Blog Post"}),s.jsx(ne,{children:"Share your thoughts and experiences with the community"})]}),s.jsx(xe,{onClick:()=>A(!E),"data-testid":"button-toggle-blog-form",children:E?"Cancel":"New Post"})]})}),E&&s.jsx(K,{children:s.jsx(fs,{...W,children:s.jsxs("form",{onSubmit:W.handleSubmit(L),className:"space-y-4",children:[s.jsx(X,{control:W.control,name:"title",render:({field:p})=>s.jsxs(Q,{children:[s.jsx(Y,{children:"Title"}),s.jsx(J,{children:s.jsx(ge,{...p,placeholder:"Your blog post title","data-testid":"input-blog-title"})}),s.jsx(Z,{})]})}),s.jsx(X,{control:W.control,name:"excerpt",render:({field:p})=>s.jsxs(Q,{children:[s.jsx(Y,{children:"Excerpt (Optional)"}),s.jsx(J,{children:s.jsx(xs,{...p,placeholder:"Brief summary of your post",rows:2,"data-testid":"input-blog-excerpt"})}),s.jsx(Z,{})]})}),s.jsx(X,{control:W.control,name:"content",render:({field:p})=>s.jsxs(Q,{children:[s.jsx(Y,{children:"Content"}),s.jsx(J,{children:s.jsx(xs,{...p,placeholder:"Write your blog post content...",rows:10,"data-testid":"input-blog-content"})}),s.jsx(Z,{})]})}),s.jsx(X,{control:W.control,name:"category",render:({field:p})=>s.jsxs(Q,{children:[s.jsx(Y,{children:"Category (Optional)"}),s.jsxs(Cr,{onValueChange:p.onChange,value:p.value,children:[s.jsx(J,{children:s.jsx(Xs,{"data-testid":"select-blog-category",children:s.jsx(Er,{placeholder:"Select a category"})})}),s.jsxs(Qs,{children:[s.jsx(be,{value:"Cast Reflections",children:"Cast Reflections"}),s.jsx(be,{value:"Behind the Scenes",children:"Behind the Scenes"}),s.jsx(be,{value:"Episode Companion",children:"Episode Companion"}),s.jsx(be,{value:"Personal Growth",children:"Personal Growth"}),s.jsx(be,{value:"Community Spotlight",children:"Community Spotlight"})]})]}),s.jsx(Z,{})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{children:"Cover Image (Optional)"}),s.jsx(bs,{onUploadSuccess:p=>{pe(p),o({title:"Image Uploaded",description:"Cover image uploaded successfully."})},allowedFileTypes:[".jpg",".jpeg",".png",".webp"],maxFileSize:10*1024*1024}),H&&s.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-cover-image-uploaded",children:"Cover image uploaded"})]}),s.jsx("div",{className:"bg-muted/50 p-4 rounded-md",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Posts are created as drafts by default. You can submit them for approval after creation."})}),s.jsx(xe,{type:"submit",disabled:_.isPending,"data-testid":"button-submit-blog-post",children:_.isPending?"Creating...":"Create Blog Post"})]})})})]}),s.jsxs(G,{children:[s.jsxs(te,{children:[s.jsx(se,{children:"My Blog Posts"}),s.jsx(ne,{children:"Manage your published and draft blog posts"})]}),s.jsx(K,{children:q?s.jsx("div",{className:"text-center py-8",children:"Loading blog posts..."}):!F||F.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(hs,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No blog posts yet"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:'Click "New Post" to create your first blog post'})]}):s.jsx("div",{className:"space-y-4",children:F.map(p=>s.jsxs(G,{className:"hover-elevate","data-testid":`card-blog-post-${p.id}`,children:[s.jsx(te,{children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(se,{className:"text-lg","data-testid":`text-blog-title-${p.id}`,children:p.title}),p.excerpt&&s.jsx(ne,{className:"mt-2","data-testid":`text-blog-excerpt-${p.id}`,children:p.excerpt})]}),s.jsx(jr,{variant:p.status==="published"?"default":"outline","data-testid":`badge-status-${p.id}`,children:p.status})]})}),s.jsx(K,{children:s.jsx("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:s.jsxs("span",{children:[p.category&&s.jsxs("span",{className:"mr-2",children:["Â· ",p.category]}),p.createdAt&&new Date(p.createdAt).toLocaleDateString()]})})})]},p.id))})})]})]}),s.jsx(tt,{value:"schedule",children:s.jsxs(G,{children:[s.jsxs(te,{children:[s.jsx(se,{children:"Filming Schedule"}),s.jsx(ne,{children:"Your upcoming filming dates and call times"})]}),s.jsx(K,{children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ls,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No upcoming filming dates"})]})})]})}),s.jsxs(tt,{value:"dossiers",className:"space-y-6",children:[z&&s.jsxs(G,{children:[s.jsx(te,{children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(se,{children:"Upload Research Dossier"}),s.jsx(ne,{children:"Admin only: Upload research materials for cast members"})]}),s.jsx(xe,{onClick:()=>S(!P),"data-testid":"button-toggle-dossier-form",children:P?"Cancel":"New Dossier"})]})}),P&&s.jsx(K,{children:s.jsx(fs,{...fe,children:s.jsxs("form",{onSubmit:fe.handleSubmit(Ze),className:"space-y-4",children:[s.jsx(X,{control:fe.control,name:"title",render:({field:p})=>s.jsxs(Q,{children:[s.jsx(Y,{children:"Title"}),s.jsx(J,{children:s.jsx(ge,{...p,placeholder:"Research Title","data-testid":"input-dossier-title"})}),s.jsx(Z,{})]})}),s.jsx(X,{control:fe.control,name:"topic",render:({field:p})=>s.jsxs(Q,{children:[s.jsx(Y,{children:"Topic"}),s.jsx(J,{children:s.jsx(ge,{...p,placeholder:"e.g., Healthcare, Education, Climate","data-testid":"input-dossier-topic"})}),s.jsx(Z,{})]})}),s.jsx(X,{control:fe.control,name:"description",render:({field:p})=>s.jsxs(Q,{children:[s.jsx(Y,{children:"Description (Optional)"}),s.jsx(J,{children:s.jsx(xs,{...p,placeholder:"Brief description of the research content","data-testid":"input-dossier-description"})}),s.jsx(Z,{})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{children:"Upload File (PDF, DOC, etc.)"}),s.jsx(bs,{onUploadComplete:(p,$)=>{I(p),R(($==null?void 0:$.size)||0),o({title:"File Uploaded",description:"Your file has been uploaded successfully."})},allowedFileTypes:[".pdf",".doc",".docx",".txt"],maxFileSize:10*1024*1024}),N&&s.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-file-uploaded",children:"File uploaded successfully"})]}),s.jsx(xe,{type:"submit",disabled:De.isPending||!N,"data-testid":"button-submit-dossier",children:De.isPending?"Uploading...":"Upload Dossier"})]})})})]}),s.jsxs(G,{children:[s.jsxs(te,{children:[s.jsx(se,{children:"Available Dossiers"}),s.jsx(ne,{children:"Research materials and debate topics for Teen Summit participants"})]}),s.jsx(K,{children:_t?s.jsx("div",{className:"text-center py-8",children:"Loading dossiers..."}):!Je||Je.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(_s,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No dossiers available yet"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Je.map(p=>s.jsxs(G,{className:"hover-elevate","data-testid":`card-dossier-${p.id}`,children:[s.jsxs(te,{children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx(jr,{variant:"outline","data-testid":`badge-topic-${p.id}`,children:p.topic}),s.jsx(hs,{className:"w-5 h-5 text-muted-foreground"})]}),s.jsx(se,{className:"text-lg","data-testid":`text-title-${p.id}`,children:p.title}),p.description&&s.jsx(ne,{"data-testid":`text-description-${p.id}`,children:p.description})]}),s.jsx(K,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:p.fileSize&&s.jsxs("p",{"data-testid":`text-filesize-${p.id}`,children:[(p.fileSize/1024/1024).toFixed(2)," MB"]})}),s.jsxs(xe,{size:"sm",onClick:()=>window.open(p.fileUrl,"_blank"),"data-testid":`button-download-${p.id}`,children:[s.jsx(Jn,{className:"w-4 h-4 mr-2"}),"Download"]})]})})]},p.id))})})]})]}),s.jsx(tt,{value:"profile",children:s.jsxs(G,{children:[s.jsxs(te,{children:[s.jsx(se,{children:"Profile Settings"}),s.jsx(ne,{children:"Update your personal information"})]}),s.jsx(K,{children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(zs,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Profile editor coming soon"})]})})]})})]})]})]})}const Rd=Object.freeze(Object.defineProperty({__proto__:null,default:nd},Symbol.toStringTag,{value:"Module"}));export{Go as B,Rd as a,Ud as d,vs as p};
