import{r as m,H as b,j as e,U as v,B as u,L as N}from"./index--0iqMln5.js";import{C as y,a as w,b as C,c as x}from"./card-B65oY0MX.js";import{B as S}from"./badge-hkkynMrF.js";import{I as L}from"./input-BHxrMRyP.js";import{S as E}from"./seo-C49FiAsT.js";import{E as k}from"./content-card-skeleton-DRYFEF0m.js";import{P as h}from"./play-CpZiSxPq.js";import{E as T}from"./eye-CSsqWc40.js";import{C as $}from"./calendar-DoBVFTCc.js";function W(){const[t,p]=m.useState(""),[a,i]=m.useState(null),{data:r=[],isLoading:g}=b({queryKey:["/api/episodes"]}),l=Array.from(new Set(r.flatMap(s=>s.tags||[]))).sort(),c=r.filter(s=>{var o,d,n;const f=!t||s.title.toLowerCase().includes(t.toLowerCase())||((o=s.description)==null?void 0:o.toLowerCase().includes(t.toLowerCase()))||((d=s.topic)==null?void 0:d.toLowerCase().includes(t.toLowerCase())),j=!a||((n=s.tags)==null?void 0:n.includes(a));return f&&j});return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(E,{title:"Episodes",description:"Watch Teen Summit 2.0 episodes featuring teen-led debates, musicology analysis, and critical discussions on social issues. Streaming now.",keywords:["teen debate episodes","youth podcast","civic discourse","social justice debates","teen media"]}),e.jsx("main",{className:"container mx-auto px-4 py-8 mt-16",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold mb-2","data-testid":"heading-episodes",children:"Latest Episodes"}),e.jsx("p",{className:"text-muted-foreground",children:"Watch Teen Summit 2.0 episodes featuring debate, music, and critical thinking"})]}),e.jsxs("div",{className:"mb-8 space-y-4",role:"search","aria-label":"Search episodes",children:[e.jsxs("div",{className:"relative",children:[e.jsx(v,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground","aria-hidden":"true"}),e.jsx(L,{type:"search",placeholder:"Search episodes by title, topic, or description...",value:t,onChange:s=>p(s.target.value),className:"pl-10","data-testid":"input-search-episodes","aria-label":"Search episodes"})]}),l.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(u,{variant:a===null?"default":"outline",size:"sm",onClick:()=>i(null),"data-testid":"button-tag-all",children:"All Topics"}),l.map(s=>e.jsx(u,{variant:a===s?"default":"outline",size:"sm",onClick:()=>i(s),"data-testid":`button-tag-${s.toLowerCase().replace(/\s+/g,"-")}`,children:s},s))]})]}),g?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(s=>e.jsx(k,{},s))}):c.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground text-lg","data-testid":"text-no-episodes",children:t||a?"No episodes match your search.":"No episodes available yet."})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(s=>e.jsx(N,{href:`/episodes/${s.slug}`,children:e.jsxs(y,{className:"group cursor-pointer hover-elevate active-elevate-2 overflow-hidden","data-testid":`card-episode-${s.slug}`,children:[e.jsxs("div",{className:"relative aspect-video bg-muted overflow-hidden",children:[s.thumbnailUrl?e.jsx("img",{src:s.thumbnailUrl,alt:s.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-purple-500 to-blue-500",children:e.jsx(h,{className:"w-16 h-16 text-white/80"})}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:e.jsx("div",{className:"w-16 h-16 rounded-full bg-white/90 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(h,{className:"w-8 h-8 text-gray-900 ml-1"})})}),s.duration&&e.jsx("div",{className:"absolute bottom-2 right-2 bg-black/80 text-white text-xs px-2 py-1 rounded",children:s.duration})]}),e.jsxs(w,{children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsxs(S,{variant:"secondary","data-testid":`badge-episode-number-${s.episodeNumber}`,children:["Episode ",s.episodeNumber]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[e.jsx(T,{className:"w-4 h-4"}),e.jsx("span",{"data-testid":`text-views-${s.slug}`,children:s.views.toLocaleString()})]})]}),e.jsx(C,{className:"line-clamp-2","data-testid":`text-episode-title-${s.slug}`,children:s.title}),s.topic&&e.jsx(x,{className:"text-sm font-medium text-foreground/80",children:s.topic}),s.description&&e.jsx(x,{className:"line-clamp-2 mt-2",children:s.description}),s.airDate&&e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground mt-2",children:[e.jsx($,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(s.airDate).toLocaleDateString()})]})]})]})},s.id))})]})})]})}export{W as default};
