import{H as c,j as e,F as t,B as n,T as o}from"./index--0iqMln5.js";import{C as d,d as i,a as x,b as m,c as h,e as p}from"./card-B65oY0MX.js";import{B as u}from"./badge-hkkynMrF.js";import{D as j}from"./content-card-skeleton-DRYFEF0m.js";import{D as f}from"./download-rw0jI8MC.js";function C(){const{data:s,isLoading:l}=c({queryKey:["/api/dossiers"]}),r=async a=>{await o.fetchQuery({queryKey:[`/api/dossiers/${a.id}/download`],queryFn:async()=>(await fetch(`/api/dossiers/${a.id}/download`,{method:"POST"})).json()}),window.open(a.fileUrl,"_blank")};return l?e.jsx("div",{className:"min-h-screen bg-background",children:e.jsx("div",{className:"container mx-auto px-4 py-16",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-12 text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Research Dossiers"}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Comprehensive research materials and debate topics for Teen Summit participants."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(a=>e.jsx(j,{},a))})]})})}):e.jsx("div",{className:"min-h-screen bg-background",children:e.jsx("div",{className:"container mx-auto px-4 py-16",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-12 text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4","data-testid":"text-page-title",children:"Research Dossiers"}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Comprehensive research materials and debate topics for Teen Summit participants. Download and study these resources to prepare for your debates."})]}),!s||s.length===0?e.jsx(d,{children:e.jsx(i,{className:"py-12",children:e.jsxs("div",{className:"text-center text-muted-foreground",children:[e.jsx(t,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg",children:"No dossiers available yet."}),e.jsx("p",{className:"text-sm mt-2",children:"Check back soon for research materials!"})]})})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(a=>e.jsxs(d,{className:"flex flex-col hover-elevate","data-testid":`card-dossier-${a.id}`,children:[e.jsxs(x,{children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsx(u,{variant:"outline",className:"text-xs","data-testid":`badge-topic-${a.id}`,children:a.topic}),e.jsx(t,{className:"w-5 h-5 text-muted-foreground"})]}),e.jsx(m,{className:"text-xl","data-testid":`text-title-${a.id}`,children:a.title}),a.description&&e.jsx(h,{"data-testid":`text-description-${a.id}`,children:a.description})]}),e.jsx(i,{className:"flex-1",children:e.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[a.fileSize&&e.jsxs("p",{"data-testid":`text-filesize-${a.id}`,children:["Size: ",(a.fileSize/1024/1024).toFixed(2)," MB"]}),a.downloads>0&&e.jsxs("p",{"data-testid":`text-downloads-${a.id}`,children:["Downloads: ",a.downloads]})]})}),e.jsx(p,{children:e.jsxs(n,{className:"w-full",onClick:()=>r(a),"data-testid":`button-download-${a.id}`,children:[e.jsx(f,{className:"w-4 h-4 mr-2"}),"Download"]})})]},a.id))})]})})})}export{C as default};
